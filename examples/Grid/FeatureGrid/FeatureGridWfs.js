!function(e){function t(t){for(var r,i,l=t[0],u=t[1],f=t[2],c=0,p=[];c<l.length;c++)i=l[c],a[i]&&p.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(s&&s(t);p.length;)p.shift()();return o.push.apply(o,f||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,l=1;l<n.length;l++){var u=n[l];0!==a[u]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={15:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var f=0;f<l.length;f++)t(l[f]);var s=u;o.push([457,1,0]),n()}({456:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAlCAYAAAAjt+tHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADTUlEQVRYhdWXW0gUURjHfzO7rMtqdjGzK5QPPa1dkAxdQUQNqreKniKC8ikKk8QKRKOILlbSU1APET5V9FJRtN1hEwzpwj5FBIVlYUqJLcsye6YHz1ln11mdgZHqg4+zs+dw/r/zne+cmU8zTROApqYmP6ADAdn68dYMQAApQESjUQNAM01TiQeAoPSABNA9EhcSIAUkpaei0aihNTY2KvEQUCzbILMTgSSQAMZkm1KrDErxRf3hSJ/HwllWFY9Vy58CMKyhD/WHI31Xdm1j3fIlrC4r9VT4/fdh3gwO0dxLX1U8VoHcBmviBYFZEQdy51R5pqtsVz4r4jYQGU2V5V5luxvTFYkrM9Jp9ly/xcfhUUZ+JwAoKQxRXrqAa7t34Pf5XM3nCCD+9RsDn75w8MYdAB637EPXNIS8xHRNmwA5fAKACzu2snHVCsJLF3sDEDl3Oeu5oefqtONbb90D4NfFLm8AlI10d+D3+RBC2Pbruo6RTmci4cRcAaj91fX8Oes2B/5G9v9bAK62IGUYmYz/KwClbSc9FYf/bQvaN9Vx6elLDCH40d2R1bdIRqe1sZazD194D9C+qY5jm+tZNq+YjjtR5h7qyurXNI3z27ewN7IBIUzOPHzuHYBP1+l5EqOsuIhTD55hpMWUW25p+ynabt9H1zR6nsQo8Dtbm6NR6t5XVywwJQLKWm7edSzuGKBzawPH7z0GoHzhAlaWzLcd93n0Jx+GRygsCNDaUOsdwIH6GjrvPgLg1ZH9ea9b9R4wTZMD9TWOABwfQ6cX0JyCAqdTApMRsH+9WSz32NlO5vMxePqoU20BExEwLM7778NOJ3BtlrkzmjqT5VIS4M3g0KxAqM9yaUmpKfwW8URVPFbd3IttYXJl1zZ2Vq5xJHZj4B3Nvbdt+2RhksBSFwj5MCYHVJBdmukAzb3EgBkhlHhVPBaRf6n8yi3NkoBwUpxmvuH7w5GB6SJhEa8kO7fyF6czlOeqtZZvr+0gLOLrrSHOAbAvz6czCRYEiqSH+sORt1YIi/haKT4uPamE8tmMAHkgilQkAOvKx3Eh7hjABqJYQgwAas/HmUgux+KuAHIgQtIDsivFROgTbsRdA1ggVFKqo6qOWMqNOMAfQZdwFeBX+gQAAAAASUVORK5CYII="},457:function(e,t,n){"use strict";var r=O(n(206)),a=O(n(179)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(168),n(174);var l=O(n(2)),u=O(n(0)),f=n(16),s=O(n(40)),c=O(n(55)),p=O(n(50)),d=O(n(64)),h=O(n(19)),g=O(n(194)),A=O(n(68)),m=O(n(436)),w=O(n(397)),b=O(n(89)),v=O(n(90)),y=n(36),S=O(n(456));function O(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.fetchData=function(){var e=n.props.url,t=n.state,r=t.pagination,i=t.sorter,l=t.nameFilterText,u=new g.default;n.setState({loading:!0});var f={SERVICE:"WFS",VERSION:"1.1.0",REQUEST:"GetFeature",TYPENAME:"osm:osm-busstops",MAXFEATURES:r.pageSize,STARTINDEX:(r.current-1)*r.pageSize,OUTPUTFORMAT:"application/json",CQL_FILTER:"BBOX(geometry, 814276,6697003,846762,6727578)"},s="ascend"===i.order?" A":" D";i.field&&(f.SORTBY=""+i.field+s),l&&(f.CQL_FILTER+=" AND name like '%"+l+"%'");var c=y.UrlUtil.objectToRequestString(f);fetch(e+"?"+c).then(function(e){return e.json()}).then(function(e){n.setState({loading:!1});var t=u.readFeatures(e);if(0===t.length)return a.default.warning("No matches found!"),void n.setState({nameFilterText:""});n.setState({features:t,pagination:o({},r,{total:e.totalFeatures})})}).catch(function(){n.setState({loading:!1}),a.default.error("Could not fetch data from remote source!")})},n.onTableChange=function(e,t,r){n.setState({sorter:o({},n.state.sorter,r),pagination:o({},n.state.pagination,{current:e.current})},function(){return n.fetchData()})},n.onNameFilterTextChange=function(e){n.setState({nameFilterText:e.target.value})},n.onNameFilterSearch=function(){n.setState({pagination:o({},n.state.pagination,{current:1}),filterDropdownVisible:!1},function(){return n.fetchData()})},n.getFeatureStyle=function(e,t){return new A.default({image:new m.default({anchor:[.5,1.1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:S.default,color:t}),text:new w.default({text:e?e.get("name"):"",fill:new b.default({color:"rgb(0, 0, 0)"}),stroke:new v.default({color:"rgb(255, 255, 255)",width:2})})})},n.state={loading:!1,features:[],pagination:{pageSize:10,current:1},sorter:{field:"name",order:"ascend"},nameFilterText:"",filterDropdownVisible:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this,t=this.props.map,n=this.state,a=n.loading,o=n.features,i=n.pagination,u=n.nameFilterText,f=n.filterDropdownVisible,s=this.getFeatureStyle;return l.default.createElement(y.FeatureGrid,{features:o,map:t,loading:a,zoomToExtent:!0,selectable:!0,pagination:i,featureStyle:function(){return s(this)},highlightStyle:function(){return s(this,"rgb(230, 247, 255)")},selectStyle:function(){return s(this,"rgb(24, 144, 255)")},onChange:this.onTableChange,columnDefs:{name:{sorter:!0,filterDropdown:l.default.createElement("div",{style:{padding:"8px",borderRadius:"6px",background:"#fff",boxShadow:"0 1px 6px rgba(0, 0, 0, .2)"}},l.default.createElement(r.default,{ref:function(t){return e.searchInput=t},placeholder:"Search name",value:u,onChange:this.onNameFilterTextChange,onPressEnter:this.onNameFilterSearch})),filterDropdownVisible:f,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownVisible:t},function(){e.searchInput.focus()})}}}})}}]),t}();E.propTypes={map:u.default.instanceOf(s.default),url:u.default.string};var T=new s.default({layers:[new p.default({name:"OSM",source:new d.default})],view:new c.default({center:h.default.fromLonLat([37.4057,8.81566]),zoom:4})});(0,f.render)(l.default.createElement("div",null,l.default.createElement("div",{className:"example-block"},l.default.createElement(E,{map:T,url:"https://ows.terrestris.de/geoserver/osm/wfs"})),l.default.createElement("div",{id:"map",style:{height:"400px"}})),document.getElementById("exampleContainer"),function(){T.setTarget("map")})}});