(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{133:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapUtil=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(46)),a=d(n(21)),i=d(n(403)),l=d(n(61)),s=d(n(140)),u=d(n(106)),c=d(n(402)),f=d(n(164)),p=d(n(73));function d(e){return e&&e.__esModule?e:{default:e}}var y=t.MapUtil=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"getInteractionsByName",value:function(e,t){var n=[];return e instanceof o.default?(e.getInteractions().forEach(function(e){e.get("name")===t&&n.push(e)}),n):(p.default.debug("Input parameter map must be from type `ol.Map`."),n)}},{key:"getInteractionsByClass",value:function(e,t){var n=[];return e instanceof o.default?(e.getInteractions().forEach(function(e){e instanceof t&&n.push(e)}),n):(p.default.debug("Input parameter map must be from type `ol.Map`."),n)}},{key:"getResolutionForScale",value:function(e,t){var n=a.default.METERS_PER_UNIT[t];return parseFloat(e)/(39.37*n*(25.4/.28))}},{key:"getScaleForResolution",value:function(e,t){var n=a.default.METERS_PER_UNIT[t];return parseFloat(e)*n*39.37*(25.4/.28)}},{key:"getAllLayers",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};if(!(t instanceof o.default||t instanceof s.default))return p.default.error("Input parameter collection must be from type `ol.Map`or `ol.layer.Group`."),[];var r=[];return t.getLayers().getArray().forEach(function(t){t instanceof s.default&&e.getAllLayers(t).forEach(function(e){n(e)&&r.push(e)}),n(t)&&r.push(t)}),r}},{key:"getLayerByName",value:function(t,n){return e.getAllLayers(t).find(function(e){return e.get("name")===n})}},{key:"getLayerByNameParam",value:function(t,n){var r=e.getAllLayers(t),o=void 0,a=!0,i=!1,l=void 0;try{for(var s,u=r[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var c=s.value;if(c.getSource&&c.getSource().getParams&&c.getSource().getParams().LAYERS===n){o=c;break}}}catch(e){i=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(i)throw l}}return o}},{key:"getLayerByFeature",value:function(t,n,r){var o=c.default.getFeatureTypeName(n),a=void 0,i=!0,l=!1,s=void 0;try{for(var u,f=r[Symbol.iterator]();!(i=(u=f.next()).done);i=!0){var p=u.value+":"+o,d=e.getLayerByNameParam(t,p);if(d){a=d;break}}}catch(e){l=!0,s=e}finally{try{!i&&f.return&&f.return()}finally{if(l)throw s}}return a}},{key:"getLayersByGroup",value:function(t,n){var r=[];return n.getLayers().forEach(function(n){n instanceof s.default?r.push.apply(r,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e.getLayersByGroup(t,n))):r.push(n)}),r}},{key:"getLegendGraphicUrl",value:function(e,t){if(e instanceof u.default){if(e instanceof l.default&&e.getSource()instanceof i.default){var n=e.getSource(),r=n.getUrls()?n.getUrls()[0]:"",o={LAYER:n.getParams().LAYERS,VERSION:"1.3.0",SERVICE:"WMS",REQUEST:"getLegendGraphic",FORMAT:"image/png"};return r+"?"+f.default.objectToRequestString(Object.assign(o,t))}p.default.warn('Source of "'+e.get("name")+'" is currently not supported by MapUtil.getLegendGraphicUrl.')}else p.default.error("Invalid input parameter for MapUtil.getLegendGraphicUrl.")}},{key:"layerInResolutionRange",value:function(e,t){var n=t&&t.getView(),r=n&&n.getResolution();if(!e||!n||!r)return!1;var o=e.getMinResolution(),a=e.getMaxResolution();return r>=o&&r<a}}]),e}();y.getLayerByOlUid=function(e,t){return y.getAllLayers(e).find(function(e){return t===e.ol_uid.toString()})},y.getLayerPositionInfo=function(e,t){var n=t instanceof s.default?t:t.getLayerGroup(),r=n.getLayers().getArray(),o={};return r.indexOf(e)<0?r.forEach(function(t){t instanceof s.default&&!o.groupLayer&&(o=y.getLayerPositionInfo(e,t))}):(o.position=r.indexOf(e),o.groupLayer=n),o},y.roundScale=function(e){var t=void 0;return e<100&&(t=Math.round(e,10)),e>=100&&e<1e4&&(t=10*Math.round(e/10)),e>=1e4&&e<1e6&&(t=100*Math.round(e/100)),e>=1e6&&(t=1e3*Math.round(e/1e3)),t},t.default=y},164:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlUtil=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(677)),i=u(n(674)),l=n(56),s=u(n(671));function u(e){return e&&e.__esModule?e:{default:e}}var c=t.UrlUtil=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"read",value:function(e){return new a.default(e,null,i.default.parse)}},{key:"write",value:function(e){return e.toString()}},{key:"getBasePath",value:function(t){var n=e.read(t);return n.protocol+"//"+n.host+n.pathname}},{key:"getQueryParams",value:function(t){return e.read(t).query}},{key:"getQueryParam",value:function(t,n){var r=e.getQueryParams(t);return r[Object.keys(r).find(function(e){return e.toLowerCase()===n.toLowerCase()})]}},{key:"joinQueryParams",value:function(e,t,n){var r=(0,l.clone)(e);return n.forEach(function(e){r[e]&&(r[e]=r[e].split(",").concat(t[e].split(",")).join(","))}),r}},{key:"hasQueryParam",value:function(t,n){var r=e.getQueryParams(t);return!!Object.keys(r).some(function(e){return e.toLowerCase()===n.toLowerCase()})}},{key:"createValidGetCapabilitiesRequest",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"WMS",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1.3.0",o=e.getBasePath(t),a=e.getQueryParams(t);return e.hasQueryParam(t,"SERVICE")||(a.SERVICE=n),e.hasQueryParam(t,"REQUEST")||(a.REQUEST="GetCapabilities"),e.hasQueryParam(t,"VERSION")||(a.VERSION=r),o+"?"+e.objectToRequestString(a)}},{key:"bundleOgcRequests",value:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["LAYERS","QUERY_LAYERS","STYLES"],a={};t.forEach(function(t){var n=e.getQueryParams(t),r=e.getBasePath(t);if(a[r]){var i=a[r],l=n;a[r]=e.joinQueryParams(i,l,o)}else a[r]=n});var i=[];if(n){var l=!0,s=!1,u=void 0;try{for(var c,f=Object.entries(a)[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var p=c.value,d=r(p,2),y=d[0],m=d[1],h=e.read(y);h.set("query",m),i.push(e.write(h))}}catch(e){s=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(s)throw u}}return i}return a}},{key:"objectToRequestString",value:function(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}},{key:"isValid",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{protocols:["http","https","ftp"],require_tld:!1,require_protocol:!0,require_host:!0,require_valid_protocol:!0,allow_underscores:!1,host_whitelist:!1,host_blacklist:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1};return(0,s.default)(e,t)}}]),e}();t.default=c},165:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(148)),o=f(n(122)),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(166),n(134);var l=f(n(2)),s=f(n(0)),u=n(204),c=n(56);function f(e){return e&&e.__esModule?e:{default:e}}n(683);var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.className="react-geo-togglebutton",n.pressedClass="btn-pressed",n.state={pressed:e.pressed},e.pressed&&n.props.onToggle(e.pressed),n.onClick=n.onClick.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"componentWillReceiveProps",value:function(e){this.state.pressed!==e.pressed&&(this.props.onToggle(e.pressed),this.setState({pressed:e.pressed}))}},{key:"onClick",value:function(e){this.context.toggleGroup&&(0,c.isFunction)(this.context.toggleGroup.onChange)&&this.context.toggleGroup.onChange(this.props),this.props.onToggle&&this.props.onToggle(!this.state.pressed,e),this.setState({pressed:!this.state.pressed})}},{key:"render",value:function(){var e=this.props,t=e.className,n=(e.name,e.icon),i=e.pressedIcon,s=e.fontIcon,c=(e.pressed,e.onToggle,e.tooltip),f=e.tooltipPlacement,p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","name","icon","pressedIcon","fontIcon","pressed","onToggle","tooltip","tooltipPlacement"]),d=t?t+" "+this.className:this.className,y=n,m="";return this.state.pressed&&(y=i||n,m=" "+this.pressedClass+" "),l.default.createElement(r.default,{title:c,placement:f},l.default.createElement(o.default,a({className:""+d+m,onClick:this.onClick},p),l.default.createElement(u.Icon,{name:y,className:s}),p.children))}}]),t}();p.propTypes={name:s.default.string,icon:s.default.string,pressedIcon:s.default.string,fontIcon:s.default.string,pressed:s.default.bool,onToggle:s.default.func.isRequired,tooltip:s.default.string,tooltipPlacement:s.default.string,className:s.default.string},p.defaultProps={type:"primary",icon:"",pressed:!1},p.contextTypes={toggleGroup:s.default.object},t.default=p},203:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"urlify",value:function(e){return e.replace(/(https?:\/\/[^\s]+)/g,'<a href="$1" target="_blank">$1</a>')}},{key:"coerce",value:function(t){if(!(t instanceof String||"string"==typeof t))return t;if("true"===t.toLowerCase())return!0;if("false"===t.toLowerCase())return!1;if(/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/.test(t))return parseFloat(t);if(t.startsWith("["))return JSON.parse(t).map(function(t){return e.coerce(t)});if(t.startsWith("{")){var n=JSON.parse(t),r={};return Object.keys(n).forEach(function(t){r[t]=e.coerce(n[t])}),r}return t}},{key:"stringDivider",value:function(t,n,r){var o=0,a=n;if(t.length>n){for(var i=n,l=void 0,s=void 0;i>0&&" "!==t[i]&&"-"!==t[i];)i--;return i>0?(l="-"===t.substring(i,i+1)?t.substring(0,i+1):t.substring(0,i),s=t.substring(i+1),l+r+e.stringDivider(s,n,r)):(l=t.substring(o,a+1)+"-",s=t.substring(a+1),o=a,a+=n,l+r+e.stringDivider(s,n,r))}return t}},{key:"stripHTMLTags",value:function(e){var t=void 0;DOMParser&&(t=(new DOMParser).parseFromString(e,"text/html").body.textContent||"");return t}}]),e}();t.default=o},205:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(148)),o=c(n(122)),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(166),n(134);var l=c(n(2)),s=c(n(0)),u=n(204);function c(e){return e&&e.__esModule?e:{default:e}}n(692);var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.className="react-geo-simplebutton",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.icon,i=e.fontIcon,s=e.tooltip,c=e.tooltipPlacement,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","icon","fontIcon","tooltip","tooltipPlacement"]),p=t?t+" "+this.className:this.className;return l.default.createElement(r.default,{title:s,placement:c},l.default.createElement(o.default,a({className:p},f),n||i?l.default.createElement(u.Icon,{name:n||"",className:i}):null,f.children))}}]),t}();f.propTypes={className:s.default.string,icon:s.default.string,fontIcon:s.default.string,tooltip:s.default.string,tooltipPlacement:s.default.oneOf(["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"])},f.defaultProps={type:"primary"},t.default=f},206:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Titlebar=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(2)),i=s(n(0)),l=n(56);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(715);var c=t.Titlebar=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.className="react-geo-titlebar",u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.tools,o=e.children,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","tools","children"]),s=t?t+" "+this.className:this.className;return a.default.createElement("div",r({className:s},i),a.default.createElement("span",{className:"title"},o),(0,l.isEmpty)(n)?null:a.default.createElement("span",{className:"controls"},n))}}]),t}();c.propTypes={className:i.default.string,children:i.default.node,dispatch:i.default.func,tools:i.default.arrayOf(i.default.element)},t.default=c},207:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Panel=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=f(n(2)),i=f(n(0)),l=f(n(424)),s=n(56),u=f(n(206)),c=f(n(205));function f(e){return e&&e.__esModule?e:{default:e}}n(690);var p=t.Panel=function(e){function t(e){var n=arguments;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.className="react-geo-panel",r.toggleCollapse=function(){r.setState({collapsed:!r.state.collapsed},function(){r.rnd.updateSize({height:r.calculateHeight(),width:r.state.width})})},r.onResize=function(e,t,o){var a=r.props.onResize;(0,s.isFunction)(a)&&a(n),r.setState({height:o.clientHeight,width:o.clientWidth})},r.onResizeStart=function(){var e=r.props.onResizeStart;(0,s.isFunction)(e)&&e(n),r.setState({resizing:!0})},r.onResizeStop=function(){var e=r.props.onResizeStop;(0,s.isFunction)(e)&&e(n),r.setState({resizing:!1})};var o=e.id||(0,s.uniqueId)("panel-");return r.state={id:o,collapsed:!1,titleBarHeight:r.props.title?e.titleBarHeight:0,height:e.height,width:e.width,resizing:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"calculateHeight",value:function(){return this.state.collapsed?this.state.titleBarHeight:this.state.height}},{key:"calculateBodyHeight",value:function(){return this.state.collapsed?"0px":(0,s.isNumber)(this.state.height)?this.state.height-this.state.titleBarHeight+"px":this.state.height}},{key:"render",value:function(){var e=this,t=this.props,n=t.collapsible,o=t.className,i=t.draggable,f=t.resizeOpts,p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["collapsible","className","draggable","resizeOpts"]),d=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.props.tools)),y=(o?o+" "+this.className:this.className)+" "+this.state.id,m=!0===f?void 0:f;n&&d.unshift(a.default.createElement(c.default,{icon:"compress",key:"collapse-tool",onClick:this.toggleCollapse,tooltip:this.props.collapseTooltip,size:"small"}));var h=i?"drag-handle ant-modal-header":"ant-modal-header",g=this.props.title?a.default.createElement(u.default,{className:h,tools:d,style:{height:this.state.titleBarHeight,cursor:i?"move":"default"}},this.props.title):null;return a.default.createElement(l.default,r({className:y,ref:function(t){return e.rnd=t},default:{x:(0,s.isNumber)(p.x)?p.x:window.innerWidth/2-160,y:(0,s.isNumber)(p.y)?p.y:window.innerHeight/2-100,width:this.state.width,height:this.calculateHeight()},dragHandleClassName:".drag-handle",disableDragging:!i,enableResizing:m,resizeHandleClasses:{bottom:"resize-handle resize-handle-bottom",bottomLeft:"resize-handle resize-handle-bottom-left",bottomRight:"resize-handle resize-handle-bottom-right",left:"resize-handle resize-handle-left",right:"resize-handle resize-handle-right",top:"resize-handle resize-handle-top",topLeft:"resize-handle resize-handle-top-left",topRight:"resize-handle resize-handle-top-right"},onResize:this.onResize,onResizeStart:this.onResizeStart,onResizeStop:this.onResizeStop},p),g,a.default.createElement("div",{className:"body",style:{cursor:"default",overflow:"hidden",height:this.calculateBodyHeight(),transition:this.state.resizing?"":"height 0.25s"}},this.props.children))}}]),t}();p.propTypes={id:i.default.string,className:i.default.string,dispatch:i.default.func,children:i.default.node,title:i.default.string,resizeOpts:i.default.oneOfType([i.default.object,i.default.bool]),onResize:i.default.func,onResizeStart:i.default.func,onResizeStop:i.default.func,draggable:i.default.bool,collapsible:i.default.bool,closable:i.default.bool,height:i.default.oneOfType([i.default.number,i.default.oneOf(["inherit","initial","auto"])]),width:i.default.oneOfType([i.default.number,i.default.oneOf(["inherit","initial","auto"])]),titleBarHeight:i.default.number,collapseTooltip:i.default.string,tools:i.default.arrayOf(i.default.node)},p.defaultProps={draggable:!1,collapsible:!1,resizeOpts:!1,titleBarHeight:37.5,tools:[],height:"auto",width:"auto",collapseTooltip:"collapse"},t.default=p},236:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QkBDTMr9G9osAAAAVxJREFUWMPtV7tKBEEQrKpT8M5DDARBDARBMDg0MvEDTLzUb/AP/AF/wdDQRBBBwfySAzXR3FgDUfEBGkiPyQYGt3Mzur0iXMNkNdvVTU1XLzCK/xYSq/1eZnICaEjclXgt8VHig8RLiTs/IcjMyqcB3AJolsDuAMwDMLPg0v4ziWHI2XPpQEEgpawPs9CsXAMSFxOhExIbHiJsZWAnPQg8pQLNwstfauDdLLRc5gCAmwRM320QAThNwJy4jWCJywlzoO3tBVeR5MfuRiRxJUJgtmqzKiPSG5D8ohYbltiOdGAm1xGV4f2bEo8AvEau3Es8BLDxq/3hW7WrEg8SlF929iUuZRORuFAsGaGi05M4N3QUFyzXAJw7SWndLPSjXiDxLcfNMuPTLIwPFGHxxrcckwPAmMTtgQSKHa5bw2LdjT3DTg0EOjERPgOY8mZgFli289f1c1NbrlEMjS9zzIOONuZ4PwAAAABJRU5ErkJggg=="},386:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(389)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(387);var i=s(n(2)),l=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}n(633);var u=r.default.TreeNode,c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.inResolutionRange,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["inResolutionRange"]),r="react-geo-layertree-node "+((t?"within":"out-off")+"-range");return i.default.createElement(u,o({className:r},n))}}]),t}();c.propTypes={inResolutionRange:l.default.bool},c.isTreeNode=1,t.default=c},392:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(107)),o=i(n(71)),a=i(n(97));function i(e){return e&&e.__esModule?e:{default:e}}var l=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};l.moveFeature=function(e,t,n,i,l){return new Promise(function(s){var u=void 0,c=t.getGeometry(),f=(new Date).getTime(),p=e.getView().getResolution(),d=i*p,y=n/1e3*60,m=0,h=d/y,g=d/y;u=e.on("postcompose",function(e){var i=e.vectorContext,p=e.frameState,d=p.time-f;c.translate(h,g),i.setFillStrokeStyle&&i.setImageStyle&&i.drawPointGeometry?(i.setFillStrokeStyle(l.getFill(),l.getStroke()),i.setImageStyle(l.getImage()),c instanceof o.default?i.drawPointGeometry(c,null):c instanceof a.default?i.drawLineStringGeometry(c,null):i.drawPolygonGeometry(c,null)):(i.setStyle(l),i.drawGeometry(c)),(d>n||m>=y)&&(r.default.unByKey(u),s(t)),p.animate=!0,m++}),e.render()})},t.default=l},402:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(56),l=n(203),s=(r=l)&&r.__esModule?r:{default:r};var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,null,[{key:"getFeatureTypeName",value:function(e){var t=e.getId(),n=t?t.split("."):t;return Array.isArray(n)?n[0]:void 0}},{key:"resolveAttributeTemplate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"n.v.",r="",a=new RegExp("\\{\\{(.*?)\\}\\}","g"),l=(0,i.isString)(t)?t.match(a):null;return l&&l.forEach(function(r){var a=0,i=!0,l=!1,s=void 0;try{for(var u,c=Object.entries(e.getProperties())[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var f=u.value,p=o(f,2),d=p[0],y=p[1];if(r.slice(2,r.length-2).toLowerCase()===d.toLowerCase()){t=t.replace(r,y);break}a++}}catch(e){l=!0,s=e}finally{try{!i&&c.return&&c.return()}finally{if(l)throw s}}a===Object.keys(e.getProperties()).length&&(t=t.replace(r,n))}),(r=t)||(r=e.getId()),r=(r=s.default.urlify(r)).replace(/\n/g,"<br>")}}]),e}();t.default=u},404:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(186)),o=a(n(21));function a(e){return e&&e.__esModule?e:{default:e}}var i=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};i.formatLength=function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=Math.pow(10,n),l=void 0;if(a){var s=new r.default(6378137),u=e.getCoordinates();l=0;for(var c=t.getView().getProjection(),f=0,p=u.length-1;f<p;++f){var d=o.default.transform(u[f],c,"EPSG:4326"),y=o.default.transform(u[f+1],c,"EPSG:4326");l+=s.haversineDistance(d,y)}}else l=Math.round(100*e.getLength())/100;return l>1e3?Math.round(l/1e3*i)/i+" km":Math.round(l*i)/i+" m"},i.formatArea=function(e,t,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=Math.pow(10,n),i=void 0;if(o){var l=new r.default(6378137),s=t.getView().getProjection(),u=e.clone().transform(s,"EPSG:4326").getLinearRing(0).getCoordinates();i=Math.abs(l.geodesicArea(u))}else i=e.getArea();return i>1e4?Math.round(i/1e6*a)/a+" km<sup>2</sup>":Math.round(i*a)/a+" m<sup>2</sup>"},i.angle=function(e,t){var n=e[0]-t[0],r=e[1]-t[1],o=Math.atan2(r,n);return o*=180/Math.PI},i.angle360=function(e,t){var n=i.angle(e,t);return n<0&&(n=360+n),n},i.makeClockwise=function(e){return 360-e},i.makeZeroDegreesAtNorth=function(e){var t=e+90;return t>360&&(t-=360),t},i.formatAngle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e.getCoordinates(),r=n.length;if(r<2)return"";var o=n[r-1],a=n[r-2],l=i.angle360(a,o);return l=i.makeZeroDegreesAtNorth(l),(l=(l=i.makeClockwise(l)).toFixed(t))+"°"},t.default=i},405:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddWmsLayerEntry=void 0;var r=f(n(150)),o=f(n(148)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(167),n(166);var i=f(n(2)),l=f(n(0)),s=f(n(61)),u=f(n(209)),c=n(204);function f(e){return e&&e.__esModule?e:{default:e}}n(685);var p=t.AddWmsLayerEntry=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={copyright:e.wmsLayer.getSource().getAttributions(),queryable:e.wmsLayer.get("queryable")},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.wmsLayer,n=e.layerTextTemplateFn,a=e.layerQueryableText,l=this.state,s=l.copyright,u=l.queryable,f=t.get("title"),p=n(t);return i.default.createElement(r.default,{value:f,className:"add-wms-layer-checkbox-line"},i.default.createElement("div",{className:"add-wms-layer-entry"},p,s?i.default.createElement(c.Icon,{className:"add-wms-add-info-icon",name:"copyright"}):null,u?i.default.createElement(o.default,{title:a},i.default.createElement(c.Icon,{className:"add-wms-add-info-icon",name:"info"})):null))}}]),t}();p.propTypes={wmsLayer:l.default.oneOfType([l.default.instanceOf(s.default),l.default.instanceOf(u.default)]).isRequired,layerTextTemplateFn:l.default.func,layerQueryableText:l.default.string},p.defaultProps={layerQueryableText:"Layer is queryable",layerTextTemplateFn:function(e){var t=e.get("title"),n=e.get("abstract");return n?i.default.createElement("span",null,t+" - "+n+":"):i.default.createElement("span",null,""+t)}},t.default=p},43:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeLayerAware=t.isVisibleComponent=t.mappify=t.MapComponent=t.MapProvider=t.UrlUtil=t.UndoUtil=t.TimeSlider=t.StringUtil=t.ProjectionUtil=t.ObjectUtil=t.NominatimSearch=t.CoordinateReferenceSystemCombo=t.MeasureUtil=t.MapUtil=t.Logger=t.FeatureUtil=t.AnimateUtil=t.CsrfUtil=t.CapabilitiesUtil=t.Window=t.UserChip=t.UploadButton=t.Toolbar=t.Titlebar=t.PropertyGrid=t.FeatureGrid=t.LayerTransparencySlider=t.Panel=t.ScaleCombo=t.FloatingMapLogo=t.Legend=t.LayerTreeNode=t.LayerTree=t.DigitizeButton=t.MeasureButton=t.ToggleGroup=t.ToggleButton=t.SimpleButton=t.CircleMenu=t.AddWmsPanel=t.AddWmsLayerEntry=void 0;var r=V(n(734)),o=V(n(405)),a=V(n(205)),i=V(n(165)),l=V(n(681)),s=V(n(678)),u=V(n(666)),c=V(n(648)),f=V(n(639)),p=V(n(638)),d=V(n(637)),y=V(n(386)),m=V(n(631)),h=V(n(630)),g=V(n(627)),b=V(n(207)),v=V(n(206)),w=V(n(626)),_=V(n(618)),O=V(n(500)),T=V(n(497)),j=V(n(495)),P=V(n(492)),E=V(n(489)),S=V(n(482)),k=V(n(476)),C=V(n(473)),x=V(n(472)),L=V(n(392)),N=V(n(402)),M=V(n(133)),R=V(n(404)),A=V(n(471)),I=V(n(470)),F=V(n(203)),D=V(n(469)),z=V(n(164)),U=V(n(73)),B=V(n(468)),G=n(467),W=n(466),K=V(n(465));function V(e){return e&&e.__esModule?e:{default:e}}t.AddWmsLayerEntry=o.default,t.AddWmsPanel=r.default,t.CircleMenu=S.default,t.SimpleButton=a.default,t.ToggleButton=i.default,t.ToggleGroup=l.default,t.MeasureButton=s.default,t.DigitizeButton=u.default,t.LayerTree=d.default,t.LayerTreeNode=y.default,t.Legend=m.default,t.FloatingMapLogo=h.default,t.ScaleCombo=p.default,t.Panel=b.default,t.LayerTransparencySlider=w.default,t.FeatureGrid=_.default,t.PropertyGrid=O.default,t.Titlebar=v.default,t.Toolbar=j.default,t.UploadButton=P.default,t.UserChip=E.default,t.Window=k.default,t.CapabilitiesUtil=C.default,t.CsrfUtil=x.default,t.AnimateUtil=L.default,t.FeatureUtil=N.default,t.Logger=U.default,t.MapUtil=M.default,t.MeasureUtil=R.default,t.CoordinateReferenceSystemCombo=c.default,t.NominatimSearch=f.default,t.ObjectUtil=A.default,t.ProjectionUtil=I.default,t.StringUtil=F.default,t.TimeSlider=T.default,t.UndoUtil=D.default,t.UrlUtil=z.default,t.MapProvider=B.default,t.MapComponent=g.default,t.mappify=W.mappify,t.isVisibleComponent=G.isVisibleComponent,t.timeLayerAware=K.default},465:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.timeLayerAware=u;var o,a=n(2),i=(o=a)&&o.__esModule?o:{default:o},l=n(56);function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){return function(n){function o(){var n,a,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var c=arguments.length,f=Array(c),p=0;p<c;p++)f[p]=arguments[p];return a=u=s(this,(n=o.__proto__||Object.getPrototypeOf(o)).call.apply(n,[this].concat(f))),u.timeChanged=function(e){t.forEach(function(t){if(t.isWmsTime){var n=t.layer.getSource().getParams();(0,l.isArray)(e)?n.time=e[0]+"/"+e[1]:n.time=""+e,t.layer.getSource().updateParams(n)}t.customHandler&&t.customHandler(e)})},u.render=function(){return i.default.createElement(e,r({onChange:u.timeChanged},u.props))},s(u,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,i.default.Component),o}()}t.default=u},466:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.mappify=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).withRef,n=void 0!==t&&t,u=function(t){function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return t.getWrappedInstance=function(){if(n)return t.wrappedInstance;s.default.warn("No wrapped instance referenced, please call the mappify with option withRef = true.")},t.setWrappedInstance=function(e){n&&(t.wrappedInstance=e)},t.wrappedInstance=null,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),o(i,[{key:"render",value:function(){var t=this.context.map;return t||s.default.warn("You trying to mappify a component without any map in the context. Did you implement the MapProvider?"),a.default.createElement(e,r({ref:this.setWrappedInstance,map:t},this.props))}}]),i}(a.default.Component);return u.contextTypes={map:i.default.instanceOf(l.default).isRequired},u};var a=u(n(2)),i=u(n(0)),l=u(n(46)),s=u(n(73));function u(e){return e&&e.__esModule?e:{default:e}}},467:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.isVisibleComponent=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).withRef,n=void 0!==t&&t,s=function(t){function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return t.getWrappedInstance=function(){if(n)return t.wrappedInstance;l.default.debug("No wrapped instance referenced, please call the isVisibleComponent with option withRef = true.")},t.setWrappedInstance=function(e){n&&(t.wrappedInstance=e)},t.isVisibleComponent=function(e){var n=t.props.activeModules||[];return n.some(function(t){return!!t.name&&t.name===e})},t.wrappedInstance=null,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),o(i,[{key:"render",value:function(){var t=this.props,n=(t.activeModules,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["activeModules"])),o=this.isVisibleComponent(n.name);return o?a.default.createElement(e,r({ref:this.setWrappedInstance},n)):null}}]),i}(a.default.Component);return s.propTypes={activeModules:i.default.arrayOf(i.default.object)},s};var a=s(n(2)),i=s(n(0)),l=s(n(73));function s(e){return e&&e.__esModule?e:{default:e}}},468:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(2)),a=l(n(0)),i=l(n(46));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={map:null,ready:!1},Promise.resolve(e.map).then(function(e){n.setState({map:e,ready:!0})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"getChildContext",value:function(){return{map:this.state.map}}},{key:"render",value:function(){return this.state.ready?this.props.children:null}}]),t}();s.propTypes={children:a.default.node,map:a.default.oneOfType([a.default.instanceOf(i.default),a.default.instanceOf(Promise)]).isRequired},s.childContextTypes={map:a.default.instanceOf(i.default)},t.default=s},469:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=t.UndoUtil=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"atLeastOneUndoable",value:function(e){var t=!0,n=!1,o=void 0;try{for(var a,i=Object.entries(e)[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var l=a.value,s=r(l,2),u=s[0],c=s[1];if(u&&c&&c.past&&c.past.length>0)return!0}}catch(e){n=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}return!1}},{key:"atLeastOneRedoable",value:function(e){var t=!0,n=!1,o=void 0;try{for(var a,i=Object.entries(e)[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var l=a.value,s=r(l,2),u=s[0],c=s[1];if(u&&c&&c.future&&c.future.length>0)return!0}}catch(e){n=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}return!1}}]),e}();t.default=a},470:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectionUtil=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(235)),i=l(n(21));function l(e){return e&&e.__esModule?e:{default:e}}var s=t.ProjectionUtil=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"initProj4Definitions",value:function(e){var t=!0,n=!1,o=void 0;try{for(var l,s=Object.entries(e)[Symbol.iterator]();!(t=(l=s.next()).done);t=!0){var u=l.value,c=r(u,2),f=c[0],p=c[1];a.default.defs(f,p)}}catch(e){n=!0,o=e}finally{try{!t&&s.return&&s.return()}finally{if(n)throw o}}i.default.setProj4(a.default)}},{key:"initProj4DefinitionMappings",value:function(e){var t=!0,n=!1,o=void 0;try{for(var i,l=Object.entries(e)[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var s=i.value,u=r(s,2),c=u[0],f=u[1];a.default.defs(c,a.default.defs(f))}}catch(e){n=!0,o=e}finally{try{!t&&l.return&&l.return()}finally{if(n)throw o}}}}]),e}();t.default=s},471:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(56),i=n(73),l=(r=i)&&r.__esModule?r:{default:r};var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"getValue",value:function(e,t){var n;if((0,a.isString)(e))if((0,a.isObject)(t)){if(e.split("/").length>1)return e.split("/").forEach(function(e){if(!t[e])return t;t=t[e]}),t;for(var r in t){var o=t[r];if(r===e)return o;if((0,a.isArray)(o))for(var i=0;i<o.length;i++){var s=o[i];if((0,a.isObject)(s)&&(n=this.getValue(e,s)))return n}if((0,a.isObject)(o)&&(n=this.getValue(e,o)))return n}}else l.default.error("Missing input parameter queryObject <Object>");else l.default.error("Missing input parameter queryKey <String>")}}]),e}();t.default=s},472:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(56),i=n(73),l=(r=i)&&r.__esModule?r:{default:r};var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"getContentFromMetaTagByName",value:function(e){var t=(0,a.template)('meta[name="<%= metaTagName %>"]'),n=document.querySelector(t({metaTagName:e})),r=void 0;if(n)r=n.content||"";else{var o=(0,a.template)("Failed to find tag <meta name=<%= metaTagName %> />. Is it  present in the page DOM?");l.default.warn(o({metaTagName:e})),r=""}return r}},{key:"getCsrfValue",value:function(){return e.getContentFromMetaTagByName("_csrf")}},{key:"getCsrfHeaderName",value:function(){return e.getContentFromMetaTagByName("_csrf_header")}},{key:"getCsrfParameterName",value:function(){return e.getContentFromMetaTagByName("_csrf_parameter_name")}},{key:"getHeader",value:function(){var t=new Headers,n=e.getCsrfValue(),r=e.getCsrfHeaderName();return""!==n&&""!==r&&t.append(r,n),t}},{key:"getHeaderObject",value:function(){var t={},n=e.getCsrfValue(),r=e.getCsrfHeaderName();return""!==n&&""!==r&&(t[r]=n),t}}]),e}();t.default=s},473:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(433)),a=s(n(434)),i=s(n(209)),l=n(56);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"parseWmsCapabilities",value:function(e){return fetch(e).then(function(e){return e.text()}).then(function(e){return(new o.default).read(e)})}},{key:"getLayersFromWmsCapabilties",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Name",n=(0,l.get)(e,"version"),r=(0,l.get)(e,"Service.AccessConstraints"),o=(0,l.get)(e,"Capability.Layer.Layer"),s=(0,l.get)(e,"Capability.Request.GetMap"),u=(0,l.get)(e,"Capability.Request.GetFeatureInfo"),c=(0,l.get)(s,"DCPType[0].HTTP.Get.OnlineResource"),f=(0,l.get)(u,"DCPType[0].HTTP.Get.OnlineResource");return o.map(function(e){return new i.default({opacity:1,title:(0,l.get)(e,"Title"),name:(0,l.get)(e,t),abstract:(0,l.get)(e,"Abstract"),getFeatureInfoUrl:f,getFeatureInfoFormats:(0,l.get)(u,"Format"),queryable:(0,l.get)(e,"queryable"),source:new a.default({url:c,attributions:r,params:{LAYERS:(0,l.get)(e,"Name"),VERSION:n}})})})}}]),e}();t.default=u},474:function(e,t,n){(e.exports=n(34)(!1)).push([e.i,"/* stylelint-disable at-rule-empty-line-before,at-rule-name-space-after,at-rule-no-unknown */\n/* stylelint-disable no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\n.react-geo-window-portal {\n  z-index: 1000;\n  position: inherit !important;\n  -moz-box-shadow: 2px 2px 10px -2px #cccccc, -2px 2px 10px -2px #cccccc;\n  -webkit-box-shadow: 2px 2px 10px -2px #cccccc, -2px 2px 10px -2px #cccccc;\n  box-shadow: 2px 2px 10px -2px #cccccc, -2px 2px 10px -2px #cccccc;\n}\n.react-geo-window-portal .react-geo-simplebutton {\n  background-color: #fff;\n  color: #1890ff;\n}\n.react-geo-window-portal .react-geo-simplebutton:hover {\n  background-color: #4ba9ff;\n  color: #ffffff;\n}\n.react-geo-window-portal .ant-modal-header {\n  padding: 1px;\n  border-bottom: 2px dotted rgba(24, 144, 255, 0.25);\n  background-color: #ffffff;\n}\n.react-geo-window-portal .ant-modal-header .title {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n}\n",""])},475:function(e,t,n){var r=n(474);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(33)(r,o);r.locals&&(e.exports=r.locals)},476:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Window=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(2)),a=c(n(17)),i=c(n(0)),l=n(56),s=c(n(207)),u=c(n(73));function c(e){return e&&e.__esModule?e:{default:e}}n(475);var f=t.Window=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.className="react-geo-window-portal";var r=e.id||(0,l.uniqueId)("window-"),o=n.props.parentId;n._parent=document.getElementById(o),n._parent||u.default.warn("No parent element was found! Please ensure that parentId parameter was set correctly (default value is `app`)");var a=e.className?e.className+" "+n.className:n.className,i=document.createElement("div");return i.id=r,i.className=a,n._elementDiv=i,n.state={id:r,resizing:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentDidMount",value:function(){this._parent&&this._parent.appendChild(this._elementDiv)}},{key:"componentWillUnmount",value:function(){this._parent&&this._parent.removeChild(this._elementDiv)}},{key:"render",value:function(){var e=this.props,t=(e.className,e.children),n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","children"]);return a.default.createPortal(o.default.createElement(s.default,n,t),this._elementDiv)}}]),t}();f.propTypes={id:i.default.string,parentId:i.default.string.isRequired,className:i.default.string,children:i.default.node,title:i.default.string},f.defaultProps={parentId:"app",title:"Window",resizeOpts:!0,collapsible:!0,draggable:!0},t.default=f},477:function(e,t,n){(e.exports=n(34)(!1)).push([e.i,"/* stylelint-disable at-rule-empty-line-before,at-rule-name-space-after,at-rule-no-unknown */\n/* stylelint-disable no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\n.react-geo-circlemenu {\n  border: dashed 1px;\n  border-radius: 50%;\n  position: absolute;\n  pointer-events: none;\n  background: -moz-radial-gradient(center, ellipse cover, rgba(0, 0, 0, 0) 0%, rgba(200, 199, 58, 0.65) 100%);\n  background: -webkit-radial-gradient(center, ellipse cover, rgba(0, 0, 0, 0) 0%, rgba(200, 199, 58, 0.65) 100%);\n  background: radial-gradient(ellipse at center, rgba(0, 0, 0, 0) 0%, rgba(200, 199, 58, 0.65) 100%);\n}\n",""])},478:function(e,t,n){var r=n(477);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(33)(r,o);r.locals&&(e.exports=r.locals)},479:function(e,t,n){(e.exports=n(34)(!1)).push([e.i,".react-geo-circlemenuitem {\n  display: block;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -1.3em;\n  pointer-events: all;\n}\n",""])},480:function(e,t,n){var r=n(479);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(33)(r,o);r.locals&&(e.exports=r.locals)},481:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CircleMenuItem=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(2)),i=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(480);var u=t.CircleMenuItem=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.className="react-geo-circlemenuitem",r._ref=null,s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){setTimeout(this.applyTransformation.bind(this),1)}},{key:"componentDidUpdate",value:function(){setTimeout(this.applyTransformation.bind(this),1)}},{key:"applyTransformation",value:function(){var e=this.props,t=e.rotationAngle,n=e.radius;this._ref.style.transform="rotate("+t+"deg) translate("+n+"px) rotate(-"+t+"deg)"}},{key:"render",value:function(){var e=this,t=this.props,n=(t.rotationAngle,t.radius,t.animationDuration),o=t.className,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["rotationAngle","radius","animationDuration","className"]),l=o?o+" "+this.className:this.className;return a.default.createElement("div",r({className:l,ref:function(t){return e._ref=t},style:{display:"block",top:"50%",left:"50%",margin:"-1.3em",position:"absolute",transform:"rotate(0deg) translate(0px) rotate(0deg)",transition:"transform "+n+"ms"}},i),this.props.children)}}]),t}();u.propTypes={className:i.default.string,animationDuration:i.default.number,radius:i.default.number.isRequired,children:i.default.node,rotationAngle:i.default.number.isRequired},u.defaultProps={animationDuration:300},t.default=u},482:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CircleMenu=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(2)),i=s(n(0)),l=s(n(481));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(478);var c=t.CircleMenu=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.className="react-geo-circlemenu",r._ref=null,u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){setTimeout(this.applyTransformation.bind(this),1)}},{key:"componentDidUpdate",value:function(){setTimeout(this.applyTransformation.bind(this),1)}},{key:"applyTransformation",value:function(){this._ref&&(this._ref.style.width=this.props.diameter+"px",this._ref.style.height=this.props.diameter+"px",this._ref.style.opacity=1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.animationDuration,o=t.className,i=t.diameter,s=t.children,u=t.position,c=t.segmentAngles,f=t.style,p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["animationDuration","className","diameter","children","position","segmentAngles","style"]),d=o?o+" "+this.className:this.className;return a.default.createElement("div",r({ref:function(t){return e._ref=t},className:d,style:r({transition:"all "+n+"ms",left:u[0]-i/2,top:u[1]-i/2},f)},p),s.map(function(t,n,r){var o=c[0],s=c[1]-o,u=o+s/(s>270?r.length:r.length-1)*n;return a.default.createElement(l.default,{radius:i/2,rotationAngle:u,idx:n,animationDuration:e.props.animationDuration,key:n},t)}))}}]),t}();c.propTypes={className:i.default.string,style:i.default.object,animationDuration:i.default.number,diameter:i.default.number,children:i.default.node.isRequired,position:i.default.arrayOf(i.default.number).isRequired,segmentAngles:i.default.arrayOf(i.default.number)},c.defaultProps={animationDuration:300,diameter:100,segmentAngles:[0,360]},t.default=c},483:function(e,t,n){(e.exports=n(34)(!1)).push([e.i,".react-geo-userchip {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n}\n.react-geo-userchip .username {\n  margin-left: 5px;\n}\n",""])},484:function(e,t,n){var r=n(483);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(33)(r,o);r.locals&&(e.exports=r.locals)},489:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(190)),o=s(n(488)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(360),n(487);var i=s(n(2)),l=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}n(484);var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.className="react-geo-userchip",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),a(t,[{key:"getInitials",value:function(){var e=[];return this.props.userName.split(" ").forEach(function(t){e.push(t[0].toUpperCase())}),e.join("")}},{key:"getUserMenu",value:function(){var e=this.props.className?this.props.className+" "+this.className:this.className;return i.default.createElement("div",{className:e,style:this.props.style},i.default.createElement(o.default,{src:this.props.imageSrc,size:"large",className:"userimage"},this.props.imageSrc?"":this.getInitials()),i.default.createElement("span",{className:"username"},this.props.userName))}},{key:"render",value:function(){var e=this;return this.props.userMenu&&i.default.isValidElement(this.props.userMenu)?i.default.createElement(r.default,{overlay:this.props.userMenu,trigger:["click"],getPopupContainer:function(){return document.getElementsByClassName(e.className)[0]}},this.getUserMenu()):this.getUserMenu()}}]),t}();u.propTypes={className:l.default.string,userName:l.default.string,imageSrc:l.default.string,userMenu:l.default.element,style:l.default.object},u.defaultProps={userName:"John Doe"},t.default=u},490:function(e,t,n){(e.exports=n(34)(!1)).push([e.i,'.react-geo-uploadbutton {\n  cursor: pointer;\n  display: inline-block;\n  position: relative;\n  overflow: hidden;\n}\n.react-geo-uploadbutton input[type="file"] {\n  cursor: pointer;\n  width: 100%;\n  position: absolute;\n  top: 0;\n  right: 0;\n  margin: 0;\n  padding: 0;\n  opacity: 0;\n}\n.react-geo-uploadbutton ::-webkit-file-upload-button {\n  cursor: pointer;\n}\n',""])},491:function(e,t,n){var r=n(490);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(33)(r,o);r.locals&&(e.exports=r.locals)},492:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(2)),i=s(n(0)),l=n(43);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(491);var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.className="react-geo-uploadbutton",u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,o=e.onChange,i=e.inputProps,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","children","onChange","inputProps"]),u=t?t+" "+this.className:this.className,c=a.default.createElement(l.SimpleButton,s);return a.default.createElement("div",{className:u},n||c,a.default.createElement("input",r({type:"file",onChange:o},i)))}}]),t}();c.propTypes={className:i.default.string,children:i.default.node,onChange:i.default.func,inputProps:i.default.object},t.default=c},493:function(e,t,n){(e.exports=n(34)(!1)).push([e.i,".vertical-toolbar {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.vertical-toolbar button {\n  margin-top: 5px;\n}\n.horizontal-toolbar {\n  line-height: 30px;\n  pointer-events: all;\n  transition: all .3s;\n}\n.horizontal-toolbar button {\n  margin-right: 5px;\n  top: 5px;\n}\n",""])},494:function(e,t,n){var r=n(493);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(33)(r,o);r.locals&&(e.exports=r.locals)},495:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=i(n(2)),a=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(494);var s=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.className="react-geo-toolbar",l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.className,r=n?n+" "+this.className:this.className;return o.default.createElement("div",{className:r+" "+this.props.alignment+"-toolbar",style:t},this.props.children)}}]),t}();s.propTypes={className:a.default.string,children:a.default.node,alignment:a.default.oneOf(["horizontal","vertical"]),style:a.default.object},s.defaultProps={children:[],alignment:"horizontal"},t.default=s},496:function(e,t,n){var r={"./af":359,"./af.js":359,"./ar":358,"./ar-dz":357,"./ar-dz.js":357,"./ar-kw":356,"./ar-kw.js":356,"./ar-ly":355,"./ar-ly.js":355,"./ar-ma":354,"./ar-ma.js":354,"./ar-sa":353,"./ar-sa.js":353,"./ar-tn":352,"./ar-tn.js":352,"./ar.js":358,"./az":351,"./az.js":351,"./be":350,"./be.js":350,"./bg":349,"./bg.js":349,"./bm":348,"./bm.js":348,"./bn":347,"./bn.js":347,"./bo":346,"./bo.js":346,"./br":345,"./br.js":345,"./bs":344,"./bs.js":344,"./ca":343,"./ca.js":343,"./cs":342,"./cs.js":342,"./cv":341,"./cv.js":341,"./cy":340,"./cy.js":340,"./da":339,"./da.js":339,"./de":338,"./de-at":337,"./de-at.js":337,"./de-ch":336,"./de-ch.js":336,"./de.js":338,"./dv":335,"./dv.js":335,"./el":334,"./el.js":334,"./en-au":333,"./en-au.js":333,"./en-ca":332,"./en-ca.js":332,"./en-gb":331,"./en-gb.js":331,"./en-ie":330,"./en-ie.js":330,"./en-il":329,"./en-il.js":329,"./en-nz":328,"./en-nz.js":328,"./eo":327,"./eo.js":327,"./es":326,"./es-do":325,"./es-do.js":325,"./es-us":324,"./es-us.js":324,"./es.js":326,"./et":323,"./et.js":323,"./eu":322,"./eu.js":322,"./fa":321,"./fa.js":321,"./fi":320,"./fi.js":320,"./fo":319,"./fo.js":319,"./fr":318,"./fr-ca":317,"./fr-ca.js":317,"./fr-ch":316,"./fr-ch.js":316,"./fr.js":318,"./fy":315,"./fy.js":315,"./gd":314,"./gd.js":314,"./gl":313,"./gl.js":313,"./gom-latn":312,"./gom-latn.js":312,"./gu":311,"./gu.js":311,"./he":310,"./he.js":310,"./hi":309,"./hi.js":309,"./hr":308,"./hr.js":308,"./hu":307,"./hu.js":307,"./hy-am":306,"./hy-am.js":306,"./id":305,"./id.js":305,"./is":304,"./is.js":304,"./it":303,"./it.js":303,"./ja":302,"./ja.js":302,"./jv":301,"./jv.js":301,"./ka":300,"./ka.js":300,"./kk":299,"./kk.js":299,"./km":298,"./km.js":298,"./kn":297,"./kn.js":297,"./ko":296,"./ko.js":296,"./ky":295,"./ky.js":295,"./lb":294,"./lb.js":294,"./lo":293,"./lo.js":293,"./lt":292,"./lt.js":292,"./lv":291,"./lv.js":291,"./me":290,"./me.js":290,"./mi":289,"./mi.js":289,"./mk":288,"./mk.js":288,"./ml":287,"./ml.js":287,"./mr":286,"./mr.js":286,"./ms":285,"./ms-my":284,"./ms-my.js":284,"./ms.js":285,"./mt":283,"./mt.js":283,"./my":282,"./my.js":282,"./nb":281,"./nb.js":281,"./ne":280,"./ne.js":280,"./nl":279,"./nl-be":278,"./nl-be.js":278,"./nl.js":279,"./nn":277,"./nn.js":277,"./pa-in":276,"./pa-in.js":276,"./pl":275,"./pl.js":275,"./pt":274,"./pt-br":273,"./pt-br.js":273,"./pt.js":274,"./ro":272,"./ro.js":272,"./ru":271,"./ru.js":271,"./sd":270,"./sd.js":270,"./se":269,"./se.js":269,"./si":268,"./si.js":268,"./sk":267,"./sk.js":267,"./sl":266,"./sl.js":266,"./sq":265,"./sq.js":265,"./sr":264,"./sr-cyrl":263,"./sr-cyrl.js":263,"./sr.js":264,"./ss":262,"./ss.js":262,"./sv":261,"./sv.js":261,"./sw":260,"./sw.js":260,"./ta":259,"./ta.js":259,"./te":258,"./te.js":258,"./tet":257,"./tet.js":257,"./tg":256,"./tg.js":256,"./th":255,"./th.js":255,"./tl-ph":254,"./tl-ph.js":254,"./tlh":253,"./tlh.js":253,"./tr":252,"./tr.js":252,"./tzl":251,"./tzl.js":251,"./tzm":250,"./tzm-latn":249,"./tzm-latn.js":249,"./tzm.js":250,"./ug-cn":248,"./ug-cn.js":248,"./uk":247,"./uk.js":247,"./ur":246,"./ur.js":246,"./uz":245,"./uz-latn":244,"./uz-latn.js":244,"./uz.js":245,"./vi":243,"./vi.js":243,"./x-pseudo":242,"./x-pseudo.js":242,"./yo":241,"./yo.js":241,"./zh-cn":240,"./zh-cn.js":240,"./zh-hk":239,"./zh-hk.js":239,"./zh-tw":238,"./zh-tw.js":238};function o(e){var t=a(e);return n(t)}function a(e){var t=r[e];if(!(t+1)){var n=new Error('Cannot find module "'+e+'".');throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=496},497:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(385)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(381);var a=u(n(2)),i=u(n(0)),l=u(n(8)),s=n(56);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.convertTimestamps=function(){return{min:(0,l.default)(n.props.min).unix(),max:(0,l.default)(n.props.max).unix(),defaultValue:n.convert(n.props.defaultValue)}},n.convert=function(e){return void 0===e?e:(0,s.isArray)(e)?e.map(function(e){return(0,l.default)(e).unix()}):(0,l.default)(e).unix()},n.formatTimestamp=function(e){return(0,l.default)(1e3*e).format(n.props.formatString)},n.valueUpdated=function(e){n.props.onChange((0,s.isArray)(e)?[(0,l.default)(1e3*e[0]).toISOString(),(0,l.default)(1e3*e[1]).toISOString()]:(0,l.default)(1e3*e).toISOString())},n.state=n.convertTimestamps(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"render",value:function(){return a.default.createElement("div",null,a.default.createElement(r.default,{className:this.props.className,defaultValue:this.convert(this.props.defaultValue),range:this.props.useRange,min:(0,l.default)(this.props.min).unix(),max:(0,l.default)(this.props.max).unix(),tipFormatter:this.formatTimestamp,onChange:this.valueUpdated,value:this.convert(this.props.value)}))}}]),t}();c.propTypes={className:i.default.string,useRange:i.default.bool,defaultValue:i.default.any,min:i.default.string,max:i.default.string,onChange:i.default.func,value:i.default.any,formatString:i.default.string},c.defaultProps={useRange:!1,defaultValue:(0,l.default)().toISOString(),min:(0,l.default)().subtract(1,"hour").toISOString(),max:(0,l.default)().toISOString(),onChange:function(){},value:(0,l.default)().toISOString(),formatString:"DD.MM. HH:mm"},t.default=c},498:function(e,t,n){(e.exports=n(34)(!1)).push([e.i,"/* stylelint-disable at-rule-empty-line-before,at-rule-name-space-after,at-rule-no-unknown */\n/* stylelint-disable no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\n.react-geo-propertygrid {\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.react-geo-propertygrid .ant-spin-nested-loading {\n  height: 100%;\n}\n.react-geo-propertygrid .ant-spin-nested-loading .ant-spin-container {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.react-geo-propertygrid .ant-spin-nested-loading .ant-spin-container .ant-table {\n  flex: 1;\n}\n.react-geo-propertygrid .ant-spin-nested-loading .ant-spin-container .ant-table .ant-table-fixed-header .ant-table-header {\n  margin-bottom: inherit !important;\n  padding-bottom: inherit !important;\n}\n.react-geo-propertygrid .ant-spin-nested-loading .ant-spin-container .ant-table .ant-table-content {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.react-geo-propertygrid .ant-spin-nested-loading .ant-spin-container .ant-table .ant-table-content .ant-table-header {\n  overflow: inherit;\n}\n.react-geo-propertygrid .ant-spin-nested-loading .ant-spin-container .ant-table .ant-table-content .ant-table-body {\n  overflow: auto;\n}\n.react-geo-propertygrid .ant-spin-nested-loading .ant-spin-container .ant-table .ant-table-content th {\n  text-align: center;\n}\n.react-geo-propertygrid .ant-spin-nested-loading .ant-spin-container .ant-table .ant-table-content tr:nth-child(odd) {\n  background-color: rgba(24, 144, 255, 0.05);\n}\n.react-geo-propertygrid .ant-pagination {\n  width: 100%;\n  text-align: center;\n}\n",""])},499:function(e,t,n){var r=n(498);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(33)(r,o);r.locals&&(e.exports=r.locals)},500:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(380)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(361);var i=c(n(2)),l=c(n(0)),s=c(n(79)),u=n(56);function c(e){return e&&e.__esModule?e:{default:e}}n(499);var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.className="react-geo-propertygrid",n.state={dataSource:null,columns:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),a(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.feature,n=e.attributeFilter,r=e.attributeNames,o=e.attributeNameColumnWidthInPercent;this.generatePropertyGrid(t,n,r,o)}},{key:"generatePropertyGrid",value:function(e,t,n,r){t||(t=e.getKeys().filter(function(e){return"geometry"!==e}));var o=t.map(function(t){return{attributeName:n&&(0,u.get)(n,t)?(0,u.get)(n,t):t,attributeValue:e.get(t),key:"ATTR_"+t+"_fid_"+e.ol_uid}}),a=[{title:this.props.attributeNameColumnTitle,dataIndex:"attributeName",key:"attributeName",width:r+"%"},{title:this.props.attributeValueColumnTitle,dataIndex:"attributeValue",key:"attributeValue",width:100-r+"%"}];this.setState({dataSource:o,columns:a})}},{key:"render",value:function(){var e=this.props,t=e.className,n=(e.feature,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","feature"])),a=this.state,l=a.columns,s=a.dataSource,u=t?t+" "+this.className:this.className;return i.default.createElement(r.default,o({className:u,rowKey:function(e){return e.key},dataSource:s,columns:l,pagination:!1,useFixedHeader:!0},n))}}]),t}();f.propTypes={attributeNameColumnTitle:l.default.string,attributeNameColumnWidthInPercent:l.default.number,attributeValueColumnTitle:l.default.string,attributeFilter:l.default.arrayOf(l.default.string),attributeNames:l.default.object,className:l.default.string,feature:l.default.instanceOf(s.default).isRequired},f.defaultProps={attributeNameColumnTitle:"Attribute name",attributeValueColumnTitle:"Attribute value",attributeNameColumnWidthInPercent:50},t.default=f},501:function(e,t,n){(e.exports=n(34)(!1)).push([e.i,"/* stylelint-disable at-rule-empty-line-before,at-rule-name-space-after,at-rule-no-unknown */\n/* stylelint-disable no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\n.react-geo-feature-grid .react-geo-feature-grid-row.row-hover > td {\n  background: #e6f7ff;\n}\n",""])},502:function(e,t,n){var r=n(501);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(33)(r,o);r.locals&&(e.exports=r.locals)},618:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureGrid=void 0;var r=w(n(380)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(361);var i=w(n(2)),l=w(n(0)),s=n(56),u=w(n(66)),c=w(n(89)),f=w(n(126)),p=w(n(90)),d=w(n(46)),y=w(n(79)),m=w(n(94)),h=w(n(95)),g=w(n(85)),b=w(n(228)),v=n(43);function w(e){return e&&e.__esModule?e:{default:e}}n(502);var _=t.FeatureGrid=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return O.call(n),n.state={selectedRowKeys:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.map,n=e.features,r=e.zoomToExtent;this.initVectorLayer(t),this.initMapEventHandlers(t),r&&this.zoomToFeatures(n)}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.props,r=n.map,o=n.features,a=n.selectable;(0,s.isEqual)(e.map,r)||(this.initVectorLayer(e.map),this.initMapEventHandlers(e.map)),(0,s.isEqual)(e.features,o)||(this._source&&(this._source.clear(),this._source.addFeatures(e.features)),e.zoomToExtent&&this.zoomToFeatures(e.features)),(0,s.isEqual)(e.selectable,a)||(e.selectable&&r?r.on("singleclick",this.onMapSingleClick):this.setState({selectedRowKeys:[]},function(){r&&r.un("singleclick",t.onMapSingleClick)}))}},{key:"componentWillUnmount",value:function(){this.deinitVectorLayer(),this.deinitMapEventHandlers()}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.rowClassName,l=(t.features,t.map,t.attributeBlacklist,t.onRowClick,t.onRowMouseOver,t.onRowMouseOut,t.zoomToExtent,t.selectable),u=(t.featureStyle,t.highlightStyle,t.selectStyle,t.layerName,t.columnDefs,t.children),c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["className","rowClassName","features","map","attributeBlacklist","onRowClick","onRowMouseOver","onRowMouseOut","zoomToExtent","selectable","featureStyle","highlightStyle","selectStyle","layerName","columnDefs","children"]),f={selectedRowKeys:this.state.selectedRowKeys,onChange:this.onSelectChange},p=n?n+" "+this._className:this._className,d=void 0;if((0,s.isFunction)(a))d=function(t){return e._rowClassName+" "+a(t)};else{var y=a?a+" "+this._rowClassName:this._rowClassName;d=function(t){return y+" "+e._rowKeyClassNamePrefix+(0,s.kebabCase)(t.key)}}return i.default.createElement(r.default,o({className:p,columns:this.getColumnDefs(),dataSource:this.getTableData(),onRow:function(t){return{onClick:function(){return e.onRowClick(t)},onMouseOver:function(){return e.onRowMouseOver(t)},onMouseOut:function(){return e.onRowMouseOut(t)}}},rowClassName:d,rowSelection:l?f:null,ref:function(t){return e._ref=t}},c),u)}}]),t}();_.propTypes={className:l.default.string,rowClassName:l.default.oneOfType([l.default.string,l.default.func]),features:l.default.arrayOf(l.default.instanceOf(y.default)),map:l.default.instanceOf(d.default),attributeBlacklist:l.default.arrayOf(l.default.string),onRowClick:l.default.func,onRowMouseOver:l.default.func,onRowMouseOut:l.default.func,onRowSelectionChange:l.default.func,zoomToExtent:l.default.bool,selectable:l.default.bool,featureStyle:l.default.oneOfType([l.default.instanceOf(u.default),l.default.func]),highlightStyle:l.default.oneOfType([l.default.instanceOf(u.default),l.default.func]),selectStyle:l.default.oneOfType([l.default.instanceOf(u.default),l.default.func]),layerName:l.default.string,columnDefs:l.default.object,children:l.default.element,keyFunction:l.default.func},_.defaultProps={features:[],attributeBlacklist:[],featureStyle:new u.default({fill:new c.default({color:"rgba(255, 255, 255, 0.5)"}),stroke:new p.default({color:"rgba(73, 139, 170, 0.9)",width:1}),image:new f.default({radius:6,fill:new c.default({color:"rgba(255, 255, 255, 0.5)"}),stroke:new p.default({color:"rgba(73, 139, 170, 0.9)",width:1})})}),highlightStyle:new u.default({fill:new c.default({color:"rgba(230, 247, 255, 0.8)"}),stroke:new p.default({color:"rgba(73, 139, 170, 0.9)",width:1}),image:new f.default({radius:6,fill:new c.default({color:"rgba(230, 247, 255, 0.8)"}),stroke:new p.default({color:"rgba(73, 139, 170, 0.9)",width:1})})}),selectStyle:new u.default({fill:new c.default({color:"rgba(230, 247, 255, 0.8)"}),stroke:new p.default({color:"rgba(73, 139, 170, 0.9)",width:2}),image:new f.default({radius:6,fill:new c.default({color:"rgba(230, 247, 255, 0.8)"}),stroke:new p.default({color:"rgba(73, 139, 170, 0.9)",width:2})})}),layerName:"react-geo-feature-grid-layer",columnDefs:{},keyFunction:function(e){return e.ol_uid}};var O=function(){var e=this;this._className="react-geo-feature-grid",this._rowClassName="react-geo-feature-grid-row",this._rowKeyClassNamePrefix="row-key-",this._rowHoverClassName="row-hover",this._source=null,this._layer=null,this.initVectorLayer=function(t){var n=e.props,r=n.features,o=n.featureStyle,a=n.layerName;if(t instanceof d.default&&!v.MapUtil.getLayerByName(t,a)){var i=new m.default({features:r}),l=new h.default({name:a,source:i,style:o});t.addLayer(l),e._source=i,e._layer=l}},this.initMapEventHandlers=function(t){var n=e.props.selectable;t instanceof d.default&&(t.on("pointermove",e.onMapPointerMove),n&&t.on("singleclick",e.onMapSingleClick))},this.onMapPointerMove=function(t){var n=e.props,r=n.map,o=n.features,a=n.highlightStyle,i=n.selectStyle,l=e.state.selectedRowKeys,u=r.getFeaturesAtPixel(t.pixel,{layerFilter:function(t){return t===e._layer}})||[];o.forEach(function(t){var n=(0,s.kebabCase)(e.props.keyFunction(t)),r="."+e._rowClassName+"."+e._rowKeyClassNamePrefix+n,o=document.querySelectorAll(r)[0];o&&o.classList.remove(e._rowHoverClassName),l.includes(n)?t.setStyle(i):t.setStyle(null)}),u.forEach(function(t){var n=(0,s.kebabCase)(e.props.keyFunction(t)),r="."+e._rowClassName+"."+e._rowKeyClassNamePrefix+n,o=document.querySelectorAll(r)[0];o&&o.classList.add(e._rowHoverClassName),t.setStyle(a)})},this.onMapSingleClick=function(t){var n=e.props,r=n.map,o=n.selectStyle,a=e.state.selectedRowKeys,i=r.getFeaturesAtPixel(t.pixel,{layerFilter:function(t){return t===e._layer}})||[],l=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(a));i.forEach(function(t){var n=e.props.keyFunction(t);l.includes(n)?(l=l.filter(function(e){return e!==n}),t.setStyle(null)):(l.push(n),t.setStyle(o))}),e.setState({selectedRowKeys:l})},this.deinitVectorLayer=function(){var t=e.props.map;t instanceof d.default&&t.removeLayer(e._layer)},this.deinitMapEventHandlers=function(){var t=e.props,n=t.map,r=t.selectable;n instanceof d.default&&(n.un("pointermove",e.onMapPointerMove),r&&n.un("singleclick",e.onMapSingleClick))},this.getColumnDefs=function(){var t=e.props,n=t.attributeBlacklist,r=t.features,a=t.columnDefs,i=[],l=r[0];if(!(l instanceof y.default))return i;var s=l.getProperties();return Object.keys(s).forEach(function(e){n.includes(e)||s[e]instanceof g.default||i.push(o({title:e,dataIndex:e,key:e},a[e]))}),i},this.getTableData=function(){var t=[];return e.props.features.forEach(function(n){var r=n.getProperties(),a=Object.keys(r).filter(function(e){return!(r[e]instanceof g.default)}).reduce(function(e,t){return e[t]=r[t],e},{});t.push(o({key:e.props.keyFunction(n)},a))}),t},this.getFeatureFromRowKey=function(t){var n=e.props,r=n.features,o=n.keyFunction;return r.filter(function(e){return o(e)===t})[0]},this.onRowClick=function(t){var n=e.props.onRowClick,r=e.getFeatureFromRowKey(t.key);(0,s.isFunction)(n)&&n(t,r),e.zoomToFeatures([r])},this.onRowMouseOver=function(t){var n=e.props.onRowMouseOver,r=e.getFeatureFromRowKey(t.key);(0,s.isFunction)(n)&&n(t,r),e.highlightFeatures([r])},this.onRowMouseOut=function(t){var n=e.props.onRowMouseOut,r=e.getFeatureFromRowKey(t.key);(0,s.isFunction)(n)&&n(t,r),e.unhighlightFeatures([r])},this.zoomToFeatures=function(t){var n=e.props.map;if(n instanceof d.default){var r=[];if(t.forEach(function(e){r.push(e.getGeometry())}),r.length>0){var o=new b.default(r);n.getView().fit(o.getExtent())}}},this.highlightFeatures=function(t){var n=e.props,r=n.map,o=n.highlightStyle;r instanceof d.default&&t.forEach(function(e){return e.setStyle(o)})},this.unhighlightFeatures=function(t){var n=e.props,r=n.map,o=n.selectStyle,a=e.state.selectedRowKeys;r instanceof d.default&&t.forEach(function(t){var n=e.props.keyFunction(t);a.includes(n)?t.setStyle(o):t.setStyle(null)})},this.selectFeatures=function(t){var n=e.props,r=n.map,o=n.selectStyle;r instanceof d.default&&t.forEach(function(e){return e.setStyle(o)})},this.resetFeatureStyles=function(){var t=e.props,n=t.map,r=t.features;n instanceof d.default&&r.forEach(function(e){return e.setStyle(null)})},this.onSelectChange=function(t){var n=e.props.onRowSelectionChange,r=t.map(function(t){return e.getFeatureFromRowKey(t)});(0,s.isFunction)(n)&&n(t,r),e.resetFeatureStyles(),e.selectFeatures(r),e.setState({selectedRowKeys:t})}};t.default=_},626:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(385)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(381);var i=u(n(2)),l=u(n(0)),s=u(n(106));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),a(t,[{key:"setLayerTransparency",value:function(e){var t=1-e/100;t=Math.round(100*t)/100,this.props.layer.setOpacity(t)}},{key:"getLayerTransparency",value:function(){var e=100*(1-this.props.layer.getOpacity());return e=Math.round(e)}},{key:"render",value:function(){var e=this,t=this.props,n=(t.layer,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["layer"]));return i.default.createElement(r.default,o({tipFormatter:function(e){return e+"%"},defaultValue:this.getLayerTransparency(),onChange:function(t){e.setLayerTransparency(t)}},n))}}]),t}();c.propTypes={layer:l.default.instanceOf(s.default).isRequired},t.default=c},627:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapComponent=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(2)),i=s(n(0)),l=s(n(46));function s(e){return e&&e.__esModule?e:{default:e}}var u=t.MapComponent=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){this.props.map.setTarget(this.props.mapDivId)}},{key:"componentDidUpdate",value:function(){this.props.map.updateSize()}},{key:"render",value:function(){var e=void 0,t=this.props,n=t.map,o=t.mapDivId,i=t.children,l=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["map","mapDivId","children"]);return n&&(e=a.default.createElement("div",r({className:"map",id:o},l),i)),e}}]),t}();u.propTypes={children:i.default.node,map:i.default.instanceOf(l.default).isRequired,mapDivId:i.default.string},u.defaultProps={mapDivId:"map"},t.default=u},628:function(e,t,n){(e.exports=n(34)(!1)).push([e.i,".react-geo-floatingmaplogo {\n  position: absolute;\n  left: 5px;\n  bottom: 5px;\n  background-color: rgba(255, 255, 255, 0.5);\n  border-radius: 5px;\n  z-index: 10;\n}\n",""])},629:function(e,t,n){var r=n(628);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(33)(r,o);r.locals&&(e.exports=r.locals)},630:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=i(n(2)),a=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(629);var s=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.className="react-geo-floatingmaplogo",l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.imageSrc,n=e.imageHeight,r=e.absolutelyPostioned,a=e.className,i=e.style,l=a?a+" "+this.className:this.className;return r&&Object.assign(i,{position:"absolute"}),o.default.createElement("img",{className:l,src:t,height:n,style:i})}}]),t}();s.propTypes={className:a.default.string,imageSrc:a.default.string.isRequired,imageHeight:a.default.string,absolutelyPostioned:a.default.bool,style:a.default.object},s.defaultProps={imageSrc:"logo.png",absolutelyPostioned:!1},t.default=s},631:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Legend=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n(2)),i=c(n(0)),l=c(n(73)),s=c(n(133)),u=n(56);function c(e){return e&&e.__esModule?e:{default:e}}var f=t.Legend=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.className="react-geo-legend",n.state={legendUrl:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentWillMount",value:function(){var e=this.props.layer,t=this.props.extraParams;this.getLegendUrl(e,t)}},{key:"componentWillReceiveProps",value:function(e){e.extraParams&&!(0,u.isEqual)(this.props.extraParams,e.extraParams)&&this.getLegendUrl(e.layer,e.extraParams)}},{key:"getLegendUrl",value:function(e,t){var n=void 0;n=e.get("legendUrl")?e.get("legendUrl"):s.default.getLegendGraphicUrl(e,t),this.setState({legendUrl:n})}},{key:"onError",value:function(){l.default.warn('Image error for legend of "'+this.props.layer.get("name")+'".')}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.layer,o=(e.extraParams,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","layer","extraParams"])),i=t?t+" "+this.className:this.className,l=n.get("name")?n.get("name")+" legend":"layer legend";return a.default.createElement("div",r({className:i},o),a.default.createElement("img",{src:this.state.legendUrl,alt:l,onError:this.onError.bind(this)}))}}]),t}();f.propTypes={className:i.default.string,layer:i.default.object.isRequired,extraParams:i.default.object},t.default=f},632:function(e,t,n){(e.exports=n(34)(!1)).push([e.i,".react-geo-layertree-node {\n  transition: opacity 1s;\n}\n.react-geo-layertree-node.out-off-range {\n  opacity: 0.5;\n}\n",""])},633:function(e,t,n){var r=n(632);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(33)(r,o);r.locals&&(e.exports=r.locals)},637:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(389)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(387);var i=h(n(2)),l=h(n(0)),s=n(56),u=h(n(46)),c=h(n(106)),f=h(n(140)),p=h(n(107)),d=h(n(73)),y=h(n(133)),m=h(n(386));function h(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.className="react-geo-layertree",n.olListenerKeys=[],n.registerAddRemoveListeners=function(e){var t=e.getLayers(),r=t.on("add",n.onCollectionAdd),o=t.on("remove",n.onCollectionRemove);n.olListenerKeys.push(r,o),t.forEach(function(e){e instanceof f.default&&n.registerAddRemoveListeners(e)})},n.onCollectionAdd=function(e){e.element instanceof f.default&&n.registerAddRemoveListeners(e.element),n.rebuildTreeNodes()},n.onCollectionRemove=function(e){n.unregisterEventsByLayer(e.element),e.element instanceof f.default&&e.element.getLayers().forEach(function(e){n.unregisterEventsByLayer(e)}),n.rebuildTreeNodes()},n.unregisterEventsByLayer=function(e){n.olListenerKeys=n.olListenerKeys.filter(function(t){if(e instanceof f.default){var r=e.getLayers();if(t.target===r&&("add"===t.type&&t.listener===n.onCollectionAdd||"remove"===t.type&&t.listener===n.onCollectionRemove))return p.default.unByKey(t),!1}else if(t.target===e&&"change:visible"===t.type&&t.listener===n.onLayerChangeVisible)return p.default.unByKey(t),!1;return!0})},n.rebuildTreeNodes=function(){n.treeNodesFromLayerGroup(n.state.layerGroup);var e=n.getVisibleOlUids();n.setState({checkedKeys:e})},n.hasListener=function(e,t,r){return n.olListenerKeys.some(function(n){return n.target===e&&n.type===t&&n.listener===r})},n.onLayerChangeVisible=function(){var e=n.getVisibleOlUids();n.setState({checkedKeys:e},function(){n.rebuildTreeNodes()})},n.getVisibleOlUids=function(){return y.default.getAllLayers(n.state.layerGroup,function(e){return!(e instanceof f.default)&&e.getVisible()}).map(function(e){return e.ol_uid.toString()})},n.onCheck=function(e,t){var r=t.checked,o=t.node.props.eventKey,a=y.default.getLayerByOlUid(n.props.map,o);n.setLayerVisibility(a,r)},n.setLayerVisibility=function(e,t){e instanceof c.default&&(0,s.isBoolean)(t)?e instanceof f.default?e.getLayers().forEach(function(e){n.setLayerVisibility(e,t)}):e.setVisible(t):d.default.error("setLayerVisibility called without layer or visiblity.")},n.onDrop=function(e){var t=y.default.getLayerByOlUid(n.props.map,e.dragNode.props.eventKey),r=y.default.getLayerPositionInfo(t,n.props.map).groupLayer.getLayers(),o=y.default.getLayerByOlUid(n.props.map,e.node.props.eventKey),a=e.node.props.pos.split("-"),i=e.dropPosition-Number(a[a.length-1]);r.remove(t);var l=y.default.getLayerPositionInfo(o,n.props.map),s=l.position,u=l.groupLayer.getLayers();-1===i?s===u.getLength()-1?u.push(t):u.insertAt(s+1,t):0===i?o instanceof f.default?o.getLayers().push(t):u.insertAt(s+1,t):1===i&&u.insertAt(s,t),n.rebuildTreeNodes()},n.state={layerGroup:null,layerGroupRevision:null,treeNodes:[],checkedKeys:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),a(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.layerGroup?this.props.layerGroup:this.props.map.getLayerGroup(),n=this.props.layerGroup?this.props.layerGroup.getRevision():0;this.setState({layerGroup:t,layerGroupRevision:n},function(){e.registerAddRemoveListeners(e.state.layerGroup),e.registerResolutionChangeHandler(),e.rebuildTreeNodes()})}},{key:"componentWillUnmount",value:function(){p.default.unByKey(this.olListenerKeys)}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.state.layerGroup,r=e.layerGroup,o=this.state.layerGroupRevision;n.ol_uid===r.ol_uid&&o===r.getRevision()||(p.default.unByKey(this.olListenerKeys),this.olListenerKeys=[],this.setState({layerGroup:r,layerGroupRevision:r.getRevision()},function(){t.registerAddRemoveListeners(r),t.rebuildTreeNodes()}))}},{key:"treeNodesFromLayerGroup",value:function(e){var t=this,n=e.getLayers().getArray();this.props.filterFunction&&(n=n.filter(this.props.filterFunction));var r=n.map(function(e){return t.treeNodeFromLayer(e)});r.reverse(),this.setState({treeNodes:r})}},{key:"registerResolutionChangeHandler",value:function(){var e=this,t=this.props.map.getView().on("change:resolution",function(){e.rebuildTreeNodes()});this.olListenerKeys.push(t)}},{key:"getTreeNodeTitle",value:function(e){return(0,s.isFunction)(this.props.nodeTitleRenderer)?this.props.nodeTitleRenderer.call(this,e):e.get("name")}},{key:"treeNodeFromLayer",value:function(e){var t=this,n=void 0;if(e instanceof f.default){e.getVisible()||d.default.warn("Your map configuration contains layerGroups that areinvisible. This might lead to buggy behaviour.");var r=e.getLayers().getArray();this.props.filterFunction&&(r=r.filter(this.props.filterFunction)),(n=r.map(function(e){return t.treeNodeFromLayer(e)})).reverse()}else if(!this.hasListener(e,"change:visible",this.onLayerChangeVisible)){var o=e.on("change:visible",this.onLayerChangeVisible);this.olListenerKeys.push(o)}return i.default.createElement(m.default,{title:this.getTreeNodeTitle(e),key:e.ol_uid,inResolutionRange:y.default.layerInResolutionRange(e,this.props.map)},n)}},{key:"render",value:function(){var e=this.props,t=e.className,n=(e.layerGroup,e.map,e.nodeTitleRenderer,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","layerGroup","map","nodeTitleRenderer"])),a=void 0;n.draggable&&(a={onDragStart:this.onDragStart,onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDragEnd:this.onDragEnd,onDrop:this.onDrop});var l=t?t+" "+this.className:this.className;return i.default.createElement(r.default,o({className:l,checkedKeys:this.state.checkedKeys,onCheck:this.onCheck},a,n),this.state.treeNodes)}}]),t}();g.propTypes={className:l.default.string,layerGroup:l.default.instanceOf(f.default),map:l.default.instanceOf(u.default).isRequired,nodeTitleRenderer:l.default.func,filterFunction:l.default.func},g.defaultProps={draggable:!0,checkable:!0},t.default=g},638:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(161)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(199);var a=c(n(2)),i=c(n(0)),l=n(56),s=c(n(73)),u=c(n(133));function c(e){return e&&e.__esModule?e:{default:e}}var f=r.default.Option,p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.className="react-geo-scalecombo",n.zoomListener=function(e){var t=e.target.getView().getZoom(),r=Math.round(t);r||(r=0),n.setState({zoomLevel:r})},n.pushScale=function(e,t){var r=u.default.getScaleForResolution(e,t.getProjection().getUnits()),o=u.default.roundScale(r);n.state.scales.includes(o)||n.state.scales.push(o)},n.getOptionsFromMap=function(){if((0,l.isEmpty)(n.state.scales))if(n.props.map){var e=n.props.map.getView(),t=e.getResolutions();if((0,l.isEmpty)(t))for(var r=e.getMaxZoom();r>=e.getMinZoom();r--){var o=e.getResolutionForZoom(r);n.pushScale(o,e)}else(0,l.reverse)((0,l.clone)(t)).forEach(function(t){n.pushScale(t,e)})}else s.default.warn("Map component not found. Could not initialize options array.");else s.default.debug("Array with scales found. Returning")},n.determineOptionKeyForZoomLevel=function(e){if((0,l.isInteger)(e)&&!(n.state.scales.length-1-e<0))return n.state.scales[n.state.scales.length-1-e].toString()};return n.state={zoomLevel:e.zoomLevel||n.props.map.getView().getZoom(),onZoomLevelSelect:e.onZoomLevelSelect||function(e){var t=n.props.map.getView(),r=u.default.getResolutionForScale(e,t.getProjection().getUnits());t.setResolution(r)},scales:e.scales},e.syncWithMap&&n.props.map.on("moveend",n.zoomListener),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentWillReceiveProps",value:function(e){(0,l.isEqual)(e.zoomLevel,this.props.zoomLevel)||this.setState({zoomLevel:e.zoomLevel}),!e.syncWithMap!==this.props.syncWithMap&&(e.syncWithMap?this.props.map.on("moveend",this.zoomListener):this.props.map.un("moveend",this.zoomListener)),(0,l.isFunction)(e.onZoomLevelSelect)&&!(0,l.isEqual)(e.onZoomLevelSelect,this.state.onZoomLevelSelect)&&this.setState({onZoomLevelSelect:e.onZoomLevelSelect})}},{key:"componentWillMount",value:function(){(0,l.isEmpty)(this.state.scales)&&this.props.map&&this.getOptionsFromMap()}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.className,o=n?n+" "+this.className:this.className,i=this.state.scales.map(function(e){return a.default.createElement(f,{key:e,value:e.toString()},"1:"+e.toLocaleString())});return a.default.createElement(r.default,{showSearch:!0,onChange:this.state.onZoomLevelSelect,filterOption:!1,value:this.determineOptionKeyForZoomLevel(this.state.zoomLevel),size:"small",style:t,className:o},i)}}]),t}();p.propTypes={className:i.default.string,zoomLevel:i.default.number,onZoomLevelSelect:i.default.func,resolutions:i.default.arrayOf(i.default.number),scales:i.default.arrayOf(i.default.shape),style:i.default.object,map:i.default.object.isRequired,syncWithMap:i.default.bool},p.defaultProps={style:{width:100},scales:[],syncWithMap:!0},t.default=p},639:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NominatimSearch=void 0;var r=f(n(391)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(390);var i=f(n(2)),l=f(n(0)),s=f(n(73)),u=f(n(164)),c=f(n(21));function f(e){return e&&e.__esModule?e:{default:e}}var p=r.default.Option,d=t.NominatimSearch=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.className="react-geo-nominatimsearch",n.state={searchTerm:"",dataSource:[]},n.onUpdateInput=n.onUpdateInput.bind(n),n.onMenuItemSelected=n.onMenuItemSelected.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),a(t,[{key:"onUpdateInput",value:function(e){var t=this;this.setState({dataSource:[]}),this.setState({searchTerm:e||""},function(){t.state.searchTerm.length>=t.props.minChars&&t.doSearch()})}},{key:"doSearch",value:function(){var e={format:this.props.format,viewbox:this.props.viewbox,bounded:this.props.bounded,polygon_geojson:this.props.polygon_geojson,addressdetails:this.props.addressdetails,limit:this.props.limit,countrycodes:this.props.countrycodes,q:this.state.searchTerm},t=u.default.objectToRequestString(e);fetch(""+this.props.nominatimBaseUrl+t).then(function(e){return e.json()}).then(this.onFetchSuccess.bind(this)).catch(this.onFetchError.bind(this))}},{key:"onFetchSuccess",value:function(e){this.setState({dataSource:e})}},{key:"onFetchError",value:function(e){s.default.error("Error while requesting Nominatim: "+e)}},{key:"onMenuItemSelected",value:function(e){var t=this.state.dataSource.filter(function(t){return t.place_id===e})[0];this.props.onSelect(t,this.props.map)}},{key:"render",value:function(){var e=this.props,t=e.className,n=(e.nominatimBaseUrl,e.format,e.viewbox,e.bounded,e.polygon_geojson,e.addressdetails,e.limit,e.countrycodes,e.map,e.onSelect,e.renderOption),a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","nominatimBaseUrl","format","viewbox","bounded","polygon_geojson","addressdetails","limit","countrycodes","map","onSelect","renderOption"]),l=t?t+" "+this.className:this.className;return i.default.createElement(r.default,o({className:l,allowClear:!0,placeholder:"Ortsname, Straßenname, Stadtteilname, POI usw.",dataSource:this.state.dataSource.map(n.bind(this)),optionLabelProp:"display_name",onChange:this.onUpdateInput,onSelect:this.onMenuItemSelected},a))}}]),t}();d.propTypes={className:l.default.string,nominatimBaseUrl:l.default.string,format:l.default.string,viewbox:l.default.string,bounded:l.default.number,polygon_geojson:l.default.number,addressdetails:l.default.number,limit:l.default.number,countrycodes:l.default.string,map:l.default.object.isRequired,minChars:l.default.number,renderOption:l.default.func,onSelect:l.default.func,style:l.default.object},d.defaultProps={nominatimBaseUrl:"https://nominatim.openstreetmap.org/search?",format:"json",viewbox:"-180,90,180,-90",bounded:1,polygon_geojson:1,addressdetails:1,limit:10,countrycodes:"de",minChars:3,renderOption:function(e){return i.default.createElement(p,{key:e.place_id},e.display_name)},onSelect:function(e,t){if(e&&e.boundingbox){var n=t.getView(),r=[e.boundingbox[2],e.boundingbox[0],e.boundingbox[3],e.boundingbox[1]];r=r.map(function(e){return parseFloat(e)}),r=c.default.transformExtent(r,"EPSG:4326",n.getProjection().getCode()),n.fit(r,{duration:500})}},style:{width:200}},t.default=d},648:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(391)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(390);var i=c(n(2)),l=c(n(0)),s=c(n(164)),u=c(n(73));function c(e){return e&&e.__esModule?e:{default:e}}var f=r.default.Option,p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.className="react-geo-coordinatereferencesystemcombo",n.fetchCrs=function(e){var t=n.props.crsApiUrl,r={format:"json",q:e};return fetch(t+"?"+s.default.objectToRequestString(r)).then(function(e){return e.json()})},n.transformResults=function(e){var t=e.results;return t&&t.length>0?t.map(function(e){return{code:e.code,value:e.name,proj4def:e.proj4,bbox:e.bbox}}):[]},n.handleSearch=function(e){var t=n.props.predefinedCrsDefinitions;e&&0!==e.length?t?n.setState({value:e}):n.fetchCrs(e).then(n.transformResults).then(function(e){return n.setState({crsDefinitions:e})}).catch(n.onFetchError):n.setState({value:e,crsDefinitions:[]})},n.onCrsItemSelect=function(e){var t=n.props,r=t.onSelect,o=t.predefinedCrsDefinitions,a=n.state.crsDefinitions,i=(o||a).filter(function(t){return t.code===e})[0];n.setState({value:i}),r(i)},n.state={crsDefinitions:[],value:null},n.onCrsItemSelect=n.onCrsItemSelect.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),a(t,[{key:"onFetchError",value:function(e){u.default.error("Error while requesting in CoordinateReferenceSystemCombo: "+e)}},{key:"transformCrsObjectsToOptions",value:function(e){return i.default.createElement(f,{key:e.code},e.value+" (EPSG:"+e.code+")")}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.emptyTextPlaceholderText,a=(e.onSelect,e.predefinedCrsDefinitions),l=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","emptyTextPlaceholderText","onSelect","predefinedCrsDefinitions"]),s=this.state.crsDefinitions,u=a||s,c=t?t+" "+this.className:this.className;return i.default.createElement(r.default,o({className:c,allowClear:!0,dataSource:u.map(this.transformCrsObjectsToOptions),onSelect:this.onCrsItemSelect,onChange:this.handleSearch,placeholder:n},l))}}]),t}();p.propTypes={className:l.default.string,crsApiUrl:l.default.string,emptyTextPlaceholderText:l.default.string,predefinedCrsDefinitions:l.default.arrayOf(l.default.shape({value:l.default.string,code:l.default.string})),onSelect:l.default.func},p.defaultProps={emptyTextPlaceholderText:"Please select a CRS",crsApiUrl:"https://epsg.io/",onSelect:function(){}},t.default=p},649:function(e,t,n){(e.exports=n(34)(!1)).push([e.i,"/* stylelint-disable at-rule-empty-line-before,at-rule-name-space-after,at-rule-no-unknown */\n/* stylelint-disable no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\nbutton.react-geo-digitizebutton {\n  color: #fff;\n  background-color: #1890ff;\n  border-color: #1890ff;\n}\nbutton.react-geo-digitizebutton:focus {\n  background-color: #4ba9ff;\n  border-color: #ffffff;\n}\nbutton.react-geo-digitizebutton:hover {\n  background-color: #4ba9ff;\n  border-color: #ffffff;\n}\nbutton.react-geo-digitizebutton:disabled {\n  background-color: #fff;\n  border-color: #e6e6e6;\n}\n",""])},650:function(e,t,n){var r=n(649);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(33)(r,o);r.locals&&(e.exports=r.locals)},666:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=k(n(665)),o=k(n(200)),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(656),n(162);var l=k(n(2)),s=k(n(0)),u=k(n(46)),c=k(n(95)),f=k(n(94)),p=k(n(41)),d=k(n(66)),y=k(n(90)),m=k(n(89)),h=k(n(126)),g=k(n(393)),b=k(n(233)),v=k(n(651)),w=k(n(425)),_=k(n(428)),O=k(n(35)),T=k(n(165)),j=k(n(133)),P=k(n(203)),E=k(n(392)),S=k(n(73));function k(e){return e&&e.__esModule?e:{default:e}}n(650);var C=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.className="react-geo-digitizebutton",n._digitizeFeatures=null,n._digitizeTextFeature=null,n._selectInteraction=null,n.onToggle=function(e){var r=n.props,o=r.map,a=r.drawType,i=r.editType,l=n.state,s=l.digitizeLayer,u=l.interactions;n._digitizeFeatures=s.getSource().getFeaturesCollection(),e?a?n.createDrawInteraction(e):i&&n.createSelectOrModifyInteraction(e):(u.forEach(function(e){return o.removeInteraction(e)}),a===t.TEXT_DRAW_TYPE?n._digitizeFeatures.un("add",n.handleTextAdding):(n._selectInteraction&&(n._selectInteraction.getFeatures().clear(),n._selectInteraction.getFeatures().un("add",n.setSelectionStyle),n._selectInteraction.getFeatures().un("remove",n.restoreFeatureStyle)),i===t.DELETE_EDIT_TYPE&&n._selectInteraction.un("select",n.onFeatureRemove),i===t.COPY_EDIT_TYPE&&n._selectInteraction.un("select",n.onFeatureCopy),o.un("pointermove",n.onPointerMove)))},n.createDigitizeLayer=function(){var e=n.props,t=e.digitizeLayerName,r=e.map,o=j.default.getLayerByName(r,t);o||(o=new c.default({name:t,source:new f.default({features:new p.default})}),r.addLayer(o)),o.setStyle(n.getDigitizeStyleFunction),n.setState({digitizeLayer:o})},n.getDigitizeStyleFunction=function(e){var r=n.props.style,o=void 0;switch(e.getGeometry().getType()){case t.POINT_DRAW_TYPE:return e.get("isLabel")?(o=r||new d.default({text:new g.default({text:"",offsetX:5,offsetY:5,font:"12px sans-serif",fill:new m.default({color:t.DEFAULT_FILL_COLOR}),stroke:new y.default({color:t.DEFAULT_STROKE_COLOR})})}),e.setStyle(o)):(o=r||new d.default({image:new h.default({radius:7,fill:new m.default({color:t.DEFAULT_FILL_COLOR}),stroke:new y.default({color:t.DEFAULT_STROKE_COLOR})})}),e.setStyle(o)),o;case t.LINESTRING_DRAW_TYPE:return o=r||new d.default({stroke:new y.default({color:t.DEFAULT_STROKE_COLOR,width:2})}),e.setStyle(o),o;case t.POLYGON_DRAW_TYPE:case t.CIRCLE_DRAW_TYPE:return o=r||new d.default({fill:new m.default({color:t.DEFAULT_FILL_COLOR}),stroke:new y.default({color:t.DEFAULT_STROKE_COLOR,width:2})}),e.setStyle(o),o}},n.getSelectedStyleFunction=function(e,t,r){var o=n.props,a=o.selectFillColor,i=o.selectStrokeColor;return new d.default({image:new h.default({radius:7,fill:new m.default({color:a}),stroke:new y.default({color:i})}),text:new g.default({text:r||"",offsetX:5,offsetY:5,font:"12px sans-serif",fill:new m.default({color:a}),stroke:new y.default({color:i})}),stroke:new y.default({color:i,width:2}),fill:new m.default({color:a})})},n.createDrawInteraction=function(e){var r=n.props,o=r.drawType,a=r.map,i=void 0,l=o;o===t.RECTANGLE_DRAW_TYPE?(i=b.default.createBox(),l=t.CIRCLE_DRAW_TYPE):o===t.TEXT_DRAW_TYPE&&(l=t.POINT_DRAW_TYPE,n._digitizeFeatures.on("add",n.handleTextAdding));var s=new b.default({source:n.state.digitizeLayer.getSource(),type:l,geometryFunction:i,style:n.getDigitizeStyleFunction,freehandCondition:O.default.never});a.addInteraction(s),n.setState({interactions:[s]},function(){s.setActive(e)})},n.createSelectOrModifyInteraction=function(){var e=n.props,r=e.editType,o=e.map;n._selectInteraction=new v.default({condition:O.default.singleClick,style:n.getSelectedStyleFunction,hitTolerance:t.HIT_TOLERANCE}),r===t.DELETE_EDIT_TYPE?n._selectInteraction.on("select",n.onFeatureRemove):r===t.COPY_EDIT_TYPE&&n._selectInteraction.on("select",n.onFeatureCopy);var a=[n._selectInteraction];if(r===t.EDIT_EDIT_TYPE){n._selectInteraction.getFeatures().on("add",n.setSelectionStyle),n._selectInteraction.getFeatures().on("remove",n.restoreFeatureStyle);var i=new w.default({features:n._selectInteraction.getFeatures(),deleteCondition:O.default.singleClick,style:n.getSelectedStyleFunction,pixelTolerance:10});i.on("modifystart",n.onModifyStart);var l=new _.default({features:n._selectInteraction.getFeatures()});a.push(i,l)}a.forEach(function(e){return o.addInteraction(e)}),o.on("pointermove",n.onPointerMove),n.setState({interactions:a})},n.setSelectionStyle=function(e){var t=e.element;n.setState({originalStyle:t.getStyle()});var r=void 0;t.get("isLabel")&&(r=t.getStyle().getText().getText()),t.setStyle(n.getSelectedStyleFunction(t,null,r))},n.restoreFeatureStyle=function(e){var t=e.element,r=void 0;t.get("isLabel")&&(r=t.getStyle().getText().getText()),t.setStyle(n.state.originalStyle),t.get("isLabel")&&t.getStyle().getText().setText(r)},n.onFeatureRemove=function(e){var t=e.selected[0];n._selectInteraction.getFeatures().remove(t),n.state.digitizeLayer.getSource().removeFeature(t),n.props.map.renderSync()},n.onFeatureCopy=function(e){var t=e.selected[0],r=t.clone();r.setStyle(t.getStyle()),n._digitizeFeatures.push(r),E.default.moveFeature(n.props.map,r,500,50,t.getStyle())},n.onModifyStart=function(e){var t=e.features.getArray()[0];t.get("isLabel")&&(n._digitizeTextFeature=t,n.setState({showLabelPrompt:!0}))},n.handleTextAdding=function(e){n.setState({showLabelPrompt:!0}),n._digitizeTextFeature=e.element,n._digitizeTextFeature.set("isLabel",!0)},n.onModalLabelOk=function(){n.setState({showLabelPrompt:!1},function(){n.setTextOnFeature(n._digitizeTextFeature)})},n.onModalLabelCancel=function(){n.setState({showLabelPrompt:!1,textLabel:""},function(){n.state.interactions.length>1||(n._digitizeFeatures.remove(n._digitizeTextFeature),n._digitizeTextFeature=null)})},n.setTextOnFeature=function(e){var t=P.default.stringDivider(n.state.textLabel,16,"\n"),r=n.getDigitizeStyleFunction(e).clone();r.getText().setText(t),e.setStyle(r),n.setState({textLabel:""})},n.onLabelChange=function(e){n.setState({textLabel:e.target.value})},n.onPointerMove=function(e){if(!e.dragging){var r=n.props,o=r.map,a=r.digitizeLayerName,i=o.getEventPixel(e.originalEvent),l=o.hasFeatureAtPixel(i,{layerFilter:function(e){return e.get("name")===a},hitTolerance:t.HIT_TOLERANCE});o.getTargetElement().style.cursor=l?"pointer":""}},n.props.drawType||n.props.editType||S.default.warn('Neither "drawType" nor "editType" was provided. Digitize button won\'t work properly!'),n.state={digitizeLayer:null,interactions:[],showLabelPrompt:!1,textLabel:"",originalStyle:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"componentDidMount",value:function(){this.createDigitizeLayer()}},{key:"render",value:function(){var e=this.props,t=e.className,n=(e.map,e.drawType,e.editType,e.digitizeLayerName,e.style,e.selectFillColor,e.selectStrokeColor,e.modalPromptTitle),i=e.modalPromptOkButtonText,s=e.modalPromptCancelButtonText,u=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","map","drawType","editType","digitizeLayerName","style","selectFillColor","selectStrokeColor","modalPromptTitle","modalPromptOkButtonText","modalPromptCancelButtonText"]),c=t?t+" "+this.className:this.className;return l.default.createElement("span",{className:"react-geo-digitize-button-wrapper"},l.default.createElement(T.default,a({onToggle:this.onToggle,className:c},u)),this.state.showLabelPrompt?l.default.createElement(r.default,{title:n,okText:i,cancelText:s,visible:this.state.showLabelPrompt,closable:!1,onOk:this.onModalLabelOk,onCancel:this.onModalLabelCancel},l.default.createElement(o.default,{value:this.state.textLabel,onChange:this.onLabelChange})):null)}}]),t}();C.POINT_DRAW_TYPE="Point",C.LINESTRING_DRAW_TYPE="LineString",C.POLYGON_DRAW_TYPE="Polygon",C.CIRCLE_DRAW_TYPE="Circle",C.RECTANGLE_DRAW_TYPE="Rectangle",C.TEXT_DRAW_TYPE="Text",C.COPY_EDIT_TYPE="Copy",C.EDIT_EDIT_TYPE="Edit",C.DELETE_EDIT_TYPE="Delete",C.DEFAULT_FILL_COLOR="rgba(154, 26, 56, 0.5)",C.DEFAULT_STROKE_COLOR="rgba(154, 26, 56, 0.8)",C.HIT_TOLERANCE=5,C.DEFAULT_POINT_STYLE=new d.default({image:new h.default({radius:7,fill:new m.default({color:C.DEFAULT_FILL_COLOR}),stroke:new y.default({color:C.DEFAULT_STROKE_COLOR})})}),C.DEFAULT_LINESTRING_STYLE=new d.default({stroke:new y.default({color:C.DEFAULT_STROKE_COLOR,width:2})}),C.DEFAULT_POLYGON_STYLE=new d.default({fill:new m.default({color:C.DEFAULT_FILL_COLOR}),stroke:new y.default({color:C.DEFAULT_STROKE_COLOR,width:2})}),C.DEFAULT_TEXT_STYLE=new d.default({text:new g.default({text:"",offsetX:5,offsetY:5,font:"12px sans-serif",fill:new m.default({color:C.DEFAULT_FILL_COLOR}),stroke:new y.default({color:C.DEFAULT_STROKE_COLOR})})}),C.propTypes={className:s.default.string,map:s.default.instanceOf(u.default).isRequired,drawType:s.default.oneOf(["Point","LineString","Polygon","Circle","Rectangle","Text"]),editType:s.default.oneOf(["Copy","Edit","Delete"]),digitizeLayerName:s.default.string,selectFillColor:s.default.string,selectStrokeColor:s.default.string,modalPromptTitle:s.default.string,modalPromptOkButtonText:s.default.string,modalPromptCancelButtonText:s.default.string,style:s.default.instanceOf(d.default)},C.defaultProps={digitizeLayerName:"react-geo_digitize",selectFillColor:"rgba(240, 240, 90, 0.5)",selectStrokeColor:"rgba(220, 120, 20, 0.8)",modalPromptTitle:"Label",modalPromptOkButtonText:"Ok",modalPromptCancelButtonText:"Cancel"},t.default=C},667:function(e,t,n){(e.exports=n(34)(!1)).push([e.i,'/* stylelint-disable at-rule-empty-line-before,at-rule-name-space-after,at-rule-no-unknown */\n/* stylelint-disable no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\nbutton.react-geo-measurebutton {\n  color: #fff;\n  background-color: #1890ff;\n  border-color: #e6e6e6;\n}\nbutton.react-geo-measurebutton:focus {\n  background-color: #4ba9ff;\n  border-color: #ffffff;\n}\nbutton.react-geo-measurebutton:hover {\n  background-color: #4ba9ff;\n  border-color: #ffffff;\n}\nbutton.react-geo-measurebutton:disabled {\n  background-color: #fff;\n  border-color: #e6e6e6;\n}\nbutton.react-geo-measurebutton.btn-pressed {\n  background-color: #005cb1;\n  border-color: #e6e6e6;\n}\n.react-geo-measure-tooltip {\n  position: relative;\n  background: rgba(0, 0, 0, 0.5);\n  border-radius: 4px;\n  color: white;\n  padding: 4px 8px;\n  opacity: 0.7;\n  white-space: nowrap;\n}\n.react-geo-measure-tooltip-dynamic {\n  opacity: 1;\n  font-weight: bold;\n}\n.react-geo-measure-tooltip-static {\n  background-color: #ffcc33;\n  color: black;\n  border: 1px solid white;\n}\n.react-geo-measure-tooltip-dynamic:before,\n.react-geo-measure-tooltip-static:before {\n  border-top: 6px solid rgba(0, 0, 0, 0.5);\n  border-right: 6px solid transparent;\n  border-left: 6px solid transparent;\n  content: "";\n  position: absolute;\n  bottom: -6px;\n  margin-left: -7px;\n  left: 50%;\n}\n.react-geo-measure-tooltip-static:before {\n  border-top-color: #ffcc33;\n}\n',""])},668:function(e,t,n){var r=n(667);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(33)(r,o);r.locals&&(e.exports=r.locals)},678:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=O(n(2)),i=O(n(0)),l=n(56),s=O(n(46)),u=O(n(95)),c=O(n(94)),f=O(n(41)),p=O(n(66)),d=O(n(90)),y=O(n(89)),m=O(n(126)),h=O(n(233)),g=O(n(107)),b=O(n(426)),v=O(n(165)),w=O(n(404)),_=O(n(133));function O(e){return e&&e.__esModule?e:{default:e}}n(668);var T=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.className="react-geo-measurebutton",n._feature=null,n._measureTooltip=null,n._helpTooltip=null,n._helpTooltipElement=null,n._measureTooltipElement=null,n._createdTooltipOverlays=[],n._createdTooltipDivs=[],n._eventKeys={drawstart:null,drawend:null,pointermove:null,click:null},n.onToggle=function(e){n.cleanup(),e&&n.state.drawInteraction&&(n.state.drawInteraction.setActive(e),n._eventKeys.drawstart=n.state.drawInteraction.on("drawstart",n.drawStart,n),n._eventKeys.drawend=n.state.drawInteraction.on("drawend",n.drawEnd,n),n._eventKeys.pointermove=n.props.map.on("pointermove",n.pointerMoveHandler,n))},n.createMeasureLayer=function(){var e=n.props,t=e.measureLayerName,r=e.fillColor,o=e.strokeColor,a=e.map,i=_.default.getLayerByName(a,t);i||(i=new u.default({name:t,source:new c.default({features:new f.default}),style:new p.default({fill:new y.default({color:r}),stroke:new d.default({color:o,width:2}),image:new m.default({radius:7,fill:new y.default({color:r})})})}),a.addLayer(i)),n.setState({measureLayer:i},function(){n.createDrawInteraction()})},n.createDrawInteraction=function(){var e=n.props,t=e.fillColor,r=e.strokeColor,o=e.measureType,a=e.pressed,i=e.map,l="angle"===o?2:void 0,s="polygon"===o?"MultiPolygon":"MultiLineString",u=new h.default({name:"react-geo_drawaction",source:n.state.measureLayer.getSource(),type:s,maxPoints:l,style:new p.default({fill:new y.default({color:t}),stroke:new d.default({color:r,lineDash:[10,10],width:2}),image:new m.default({radius:5,stroke:new d.default({color:r}),fill:new y.default({color:t})})}),freehandCondition:function(){return!1}});i.addInteraction(u),u.on("change:active",n.onDrawInteractionActiveChange,n),n.setState({drawInteraction:u},function(){a&&n.onDrawInteractionActiveChange(),u.setActive(a)})},n.onDrawInteractionActiveChange=function(){n.state.drawInteraction.getActive()?(n.createHelpTooltip(),n.createMeasureTooltip()):(n.removeHelpTooltip(),n.removeMeasureTooltip())},n.drawStart=function(e){var t=n.props,r=t.showMeasureInfoOnClickedPoints,o=t.multipleDrawing,a=t.measureType,i=t.map,l=n.state.measureLayer.getSource();n._feature=e.feature,r&&"line"===a&&(n._eventKeys.click=i.on("click",n.addMeasureStopTooltip,n)),!o&&l.getFeatures().length>0&&(n.cleanupTooltips(),n.createMeasureTooltip(),n.createHelpTooltip(),l.clear())},n.drawEnd=function(){var e=n.props,t=e.measureType,r=e.showMeasureInfoOnClickedPoints,o=e.measureTooltipCssClasses;n._eventKeys.click&&g.default.unByKey(n._eventKeys.click),r&&"line"===t?n.removeMeasureTooltip():(n._measureTooltipElement.className=o.tooltip+" "+o.tooltipStatic,n._measureTooltip.setOffset([0,-7])),n._feature=null,r&&"line"===t&&(n._measureTooltipElement=null,n.createMeasureTooltip())},n.addMeasureStopTooltip=function(e){var t=n.props,r=t.measureType,o=t.decimalPlacesInTooltips,a=t.map,i=t.measureTooltipCssClasses;if(!(0,l.isEmpty)(n._feature)){var s=n._feature.getGeometry(),u="line"===r?w.default.formatLength(s,a,o):w.default.formatArea(s,a,o);if(parseInt(u,10)>0){var c=document.createElement("div");c.className=i.tooltip+" "+i.tooltipStatic,c.innerHTML=u;var f=new b.default({element:c,offset:[0,-15],positioning:"bottom-center"});a.addOverlay(f),f.setPosition(e.coordinate),n._createdTooltipDivs.push(c),n._createdTooltipOverlays.push(f)}}},n.createMeasureTooltip=function(){var e=n.props,t=e.map,r=e.measureTooltipCssClasses;n._measureTooltipElement||(n._measureTooltipElement=document.createElement("div"),n._measureTooltipElement.className=r.tooltip+" "+r.tooltipDynamic,n._measureTooltip=new b.default({element:n._measureTooltipElement,offset:[0,-15],positioning:"bottom-center"}),t.addOverlay(n._measureTooltip))},n.createHelpTooltip=function(){var e=n.props,t=e.map,r=e.measureTooltipCssClasses;n._helpTooltipElement||(n._helpTooltipElement=document.createElement("div"),n._helpTooltipElement.className=r.tooltip,n._helpTooltip=new b.default({element:n._helpTooltipElement,offset:[15,0],positioning:"center-left"}),t.addOverlay(n._helpTooltip))},n.removeHelpTooltip=function(){n._helpTooltip&&n.props.map.removeOverlay(n._helpTooltip),n._helpTooltipElement=null,n._helpTooltip=null},n.removeMeasureTooltip=function(){n._measureTooltip&&n.props.map.removeOverlay(n._measureTooltip),n._measureTooltipElement=null,n._measureTooltip=null},n.cleanupTooltips=function(){var e=n.props.map;n._createdTooltipOverlays.forEach(function(t){e.removeOverlay(t)}),n._createdTooltipOverlays=[],n._createdTooltipDivs.forEach(function(e){var t=e&&e.parentNode;t&&t.removeChild(e)}),n._createdTooltipDivs=[]},n.cleanup=function(){n.state.drawInteraction&&n.state.drawInteraction.setActive(!1),Object.keys(n._eventKeys).forEach(function(e){n._eventKeys[e]&&g.default.unByKey(n._eventKeys[e])}),n.cleanupTooltips(),n.state.measureLayer&&n.state.measureLayer.getSource().clear()},n.pointerMoveHandler=function(e){var t=n.props,r=t.clickToDrawText,o=t.continuePolygonMsg,a=t.continueLineMsg,i=t.continueAngleMsg,l=t.measureType,s=t.decimalPlacesInTooltips,u=t.map;if(!e.dragging&&n._helpTooltipElement&&n._measureTooltipElement){var c=r,f=e.coordinate,p=e.coordinate;if(n._feature){var d=void 0,y=n._feature.getGeometry();p=y.getLastCoordinate(),"polygon"===l?(d=w.default.formatArea(y,u,s),c=o,p=y.getInteriorPoint().getCoordinates()):"line"===l?(d=w.default.formatLength(y,u,s),c=a,p=y.getLastCoordinate()):"angle"===l&&(d=w.default.formatAngle(y,u,s),c=i),n._measureTooltipElement.innerHTML=d,n._measureTooltip.setPosition(p)}n._helpTooltipElement.innerHTML=c,n._helpTooltip.setPosition(f)}},n.state={measureLayer:null,drawInteraction:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){this.createMeasureLayer()}},{key:"render",value:function(){var e=this.props,t=e.className,n=(e.map,e.measureType,e.measureLayerName,e.fillColor,e.strokeColor,e.showMeasureInfoOnClickedPoints,e.multipleDrawing,e.clickToDrawText,e.continuePolygonMsg,e.continueLineMsg,e.continueAngleMsg,e.decimalPlacesInTooltips,e.measureTooltipCssClasses,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","map","measureType","measureLayerName","fillColor","strokeColor","showMeasureInfoOnClickedPoints","multipleDrawing","clickToDrawText","continuePolygonMsg","continueLineMsg","continueAngleMsg","decimalPlacesInTooltips","measureTooltipCssClasses"])),o=t?t+" "+this.className:this.className;return a.default.createElement(v.default,r({onToggle:this.onToggle,className:o},n))}}]),t}();T.propTypes={className:i.default.string,map:i.default.instanceOf(s.default).isRequired,measureType:i.default.oneOf(["line","polygon","angle"]).isRequired,measureLayerName:i.default.string,fillColor:i.default.string,strokeColor:i.default.string,showMeasureInfoOnClickedPoints:i.default.bool,multipleDrawing:i.default.bool,clickToDrawText:i.default.string,continuePolygonMsg:i.default.string,continueLineMsg:i.default.string,continueAngleMsg:i.default.string,decimalPlacesInTooltips:i.default.number,measureTooltipCssClasses:i.default.object,pressed:i.default.bool},T.defaultProps={measureLayerName:"react-geo_measure",fillColor:"rgba(255, 0, 0, 0.5)",strokeColor:"rgba(255, 0, 0, 0.8)",showMeasureInfoOnClickedPoints:!1,decimalPlacesInTooltips:2,multipleDrawing:!1,continuePolygonMsg:"Click to draw area",continueLineMsg:"Click to draw line",continueAngleMsg:"Click to draw angle",clickToDrawText:"Click to measure",measureTooltipCssClasses:{tooltip:"react-geo-measure-tooltip",tooltipDynamic:"react-geo-measure-tooltip-dynamic",tooltipStatic:"react-geo-measure-tooltip-static"},pressed:!1},t.default=T},679:function(e,t,n){(e.exports=n(34)(!1)).push([e.i,".vertical-toggle-group {\n  display: flex;\n  flex-direction: column;\n}\n.horizontal-toggle-group {\n  display: flex;\n  flex-direction: row;\n}\n",""])},680:function(e,t,n){var r=n(679);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(33)(r,o);r.locals&&(e.exports=r.locals)},681:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(2)),a=s(n(0)),i=n(56),l=s(n(165));function s(e){return e&&e.__esModule?e:{default:e}}n(680);var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.className="react-geo-togglegroup",n.componentWillReceiveProps=function(e){n.state.selectedName!=e.selectedName&&n.setState({selectedName:e.selectedName})},n.onChange=function(e){(0,i.isFunction)(n.props.onChange)&&n.props.onChange(e),n.props.allowDeselect&&e.name===n.state.selectedName?n.setState({selectedName:null}):n.setState({selectedName:e.name})},n.state={selectedName:e.selectedName},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"getChildContext",value:function(){return{toggleGroup:{name:this.props.name,selectedName:this.state.selectedName,onChange:this.onChange}}}},{key:"render",value:function(){var e=this,t=this.props,n=t.orientation,r=t.children,a=this.props.className?this.props.className+" "+this.className:this.className,i="vertical"===n?"vertical-toggle-group":"horizontal-toggle-group",s=o.default.Children.map(r,function(t){return t.type!==l.default?t:o.default.cloneElement(t,{pressed:e.state.selectedName===t.props.name})});return o.default.createElement("div",{className:a+" "+i},s)}}]),t}();u.propTypes={className:a.default.string,name:a.default.string,orientation:a.default.string,allowDeselect:a.default.bool,selectedName:a.default.string,onChange:a.default.func,children:a.default.node},u.defaultProps={orientation:"vertical",allowDeselect:!0},u.childContextTypes={toggleGroup:a.default.object},t.default=u},682:function(e,t,n){(e.exports=n(34)(!1)).push([e.i,"/* stylelint-disable at-rule-empty-line-before,at-rule-name-space-after,at-rule-no-unknown */\n/* stylelint-disable no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\nbutton.react-geo-togglebutton {\n  color: #fff;\n  background-color: #1890ff;\n  border-color: #e6e6e6;\n}\nbutton.react-geo-togglebutton:focus {\n  background-color: #4ba9ff;\n  border-color: #ffffff;\n}\nbutton.react-geo-togglebutton:hover {\n  background-color: #4ba9ff;\n  border-color: #ffffff;\n}\nbutton.react-geo-togglebutton:disabled {\n  background-color: #fff;\n  border-color: #e6e6e6;\n}\nbutton.react-geo-togglebutton.btn-pressed {\n  background-color: #005cb1;\n  border-color: #e6e6e6;\n}\n",""])},683:function(e,t,n){var r=n(682);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(33)(r,o);r.locals&&(e.exports=r.locals)},684:function(e,t,n){(e.exports=n(34)(!1)).push([e.i,"/* stylelint-disable at-rule-empty-line-before,at-rule-name-space-after,at-rule-no-unknown */\n/* stylelint-disable no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\n.add-wms-layer-checkbox-line {\n  padding: 5px;\n  margin: 1px;\n  display: flex;\n  background: #ffffff;\n  flex: 1;\n  align-items: center;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.add-wms-layer-checkbox-line .add-wms-add-info-icon {\n  margin-left: 5px;\n}\n",""])},685:function(e,t,n){var r=n(684);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(33)(r,o);r.locals&&(e.exports=r.locals)},686:function(e,t,n){(e.exports=n(34)(!1)).push([e.i,"/* stylelint-disable at-rule-empty-line-before,at-rule-name-space-after,at-rule-no-unknown */\n/* stylelint-disable no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\n.add-wms-panel .body {\n  display: flex;\n  flex-direction: column;\n}\n.add-wms-panel .body .ant-checkbox-group {\n  flex: 1;\n  height: 100%;\n  overflow-y: auto;\n}\n.add-wms-panel .body .add-wms-layer-checkbox-line {\n  padding: 5px;\n  margin: 1px;\n  display: flex;\n  background: #ffffff;\n  flex: 1;\n  align-items: center;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.add-wms-panel .body .add-wms-layer-checkbox-line .add-wms-add-info-icon {\n  margin-left: 5px;\n}\n.add-wms-panel .body .react-geo-titlebar .react-geo-simplebutton {\n  margin-right: 5px;\n}\n",""])},687:function(e,t,n){var r=n(686);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(33)(r,o);r.locals&&(e.exports=r.locals)},689:function(e,t,n){(e.exports=n(34)(!1)).push([e.i,"/* stylelint-disable at-rule-empty-line-before,at-rule-name-space-after,at-rule-no-unknown */\n/* stylelint-disable no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\n.react-geo-panel {\n  z-index: 100;\n}\n.react-geo-panel .body {\n  background-color: #fff;\n}\n.react-geo-panel .resize-handle:hover.resize-handle-right {\n  border-right: 5px solid rgba(24, 144, 255, 0.5);\n}\n.react-geo-panel .resize-handle:hover.resize-handle-left {\n  border-left: 5px solid rgba(24, 144, 255, 0.5);\n}\n.react-geo-panel .resize-handle:hover.resize-handle-top {\n  border-top: 5px solid rgba(24, 144, 255, 0.5);\n}\n.react-geo-panel .resize-handle:hover.resize-handle-bottom {\n  border-top: 5px solid rgba(24, 144, 255, 0.5);\n}\n.react-geo-panel .resize-handle:hover.resize-handle-bottom-right {\n  border-bottom: 5px solid rgba(24, 144, 255, 0.5);\n  border-right: 5px solid rgba(24, 144, 255, 0.5);\n}\n.react-geo-panel .resize-handle:hover.resize-handle-bottom-left {\n  border-bottom: 5px solid rgba(24, 144, 255, 0.5);\n  border-left: 5px solid rgba(24, 144, 255, 0.5);\n}\n.react-geo-panel .resize-handle:hover.resize-handle-top-right {\n  border-top: 5px solid rgba(24, 144, 255, 0.5);\n  border-right: 5px solid rgba(24, 144, 255, 0.5);\n}\n.react-geo-panel .resize-handle:hover.resize-handle-top-left {\n  border-top: 5px solid rgba(24, 144, 255, 0.5);\n  border-left: 5px solid rgba(24, 144, 255, 0.5);\n}\n",""])},690:function(e,t,n){var r=n(689);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(33)(r,o);r.locals&&(e.exports=r.locals)},691:function(e,t,n){(e.exports=n(34)(!1)).push([e.i,"/* stylelint-disable at-rule-empty-line-before,at-rule-name-space-after,at-rule-no-unknown */\n/* stylelint-disable no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\nbutton.react-geo-simplebutton {\n  color: #fff;\n  background-color: #1890ff;\n  border-color: #1890ff;\n}\nbutton.react-geo-simplebutton:focus {\n  background-color: #4ba9ff;\n  border-color: #ffffff;\n}\nbutton.react-geo-simplebutton:hover {\n  background-color: #4ba9ff;\n  border-color: #ffffff;\n}\nbutton.react-geo-simplebutton:disabled {\n  background-color: #fff;\n  border-color: #e6e6e6;\n}\n",""])},692:function(e,t,n){var r=n(691);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(33)(r,o);r.locals&&(e.exports=r.locals)},714:function(e,t,n){(e.exports=n(34)(!1)).push([e.i,"/* stylelint-disable at-rule-empty-line-before,at-rule-name-space-after,at-rule-no-unknown */\n/* stylelint-disable no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\n.react-geo-titlebar {\n  display: flex;\n  align-items: center;\n  overflow: auto;\n  background-color: #e6e6e6;\n  color: #1890ff;\n  font-weight: bold;\n}\n.react-geo-titlebar .title {\n  margin: 5px;\n  flex: 1;\n}\n.react-geo-titlebar .controls {\n  margin: 5px;\n  display: flex;\n}\n.react-geo-titlebar .controls > button {\n  margin-right: 2px;\n}\n",""])},715:function(e,t,n){var r=n(714);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(33)(r,o);r.locals&&(e.exports=r.locals)},73:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(688)).getLogger("app-logger");r.setLevel("DEBUG"),t.default=r},734:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddWmsPanel=void 0;var r=g(n(150)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(167);var i=g(n(2)),l=g(n(0)),s=g(n(61)),u=g(n(209)),c=g(n(46)),f=n(56),p=g(n(207)),d=g(n(206)),y=g(n(205)),m=g(n(73));n(687);var h=g(n(405));function g(e){return e&&e.__esModule?e:{default:e}}var b=t.AddWmsPanel=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSelectedLayersChange=function(e){var t=n.props.onSelectionChange;(0,f.isFunction)(t)&&t(e),n.setState({selectedWmsLayers:e})},n.onAddSelectedLayers=function(){var e=n.state.selectedWmsLayers,t=n.props,r=t.onLayerAddToMap,o=t.map,a=n.props.wmsLayers.filter(function(t){return e.includes(t.get("title"))});r?r(a):o?a.forEach(function(e){o.getLayers().getArray().includes(e)||o.addLayer(e)}):m.default.warn("Neither map nor onLayerAddToMap given in props. Will do nothing.")},n.onAddAllLayers=function(){var e=n.props,t=e.onLayerAddToMap,r=e.wmsLayers,o=e.map;t?t(r):o?r.forEach(function(e){o.getLayers().getArray().includes(e)||o.addLayer(e)}):m.default.warn("Neither map nor onLayerAddToMap given in props. Will do nothing.")},n.state={selectedWmsLayers:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.wmsLayers,n=e.onCancel,a=e.titleText,l=e.cancelText,s=e.addAllLayersText,u=e.addSelectedLayersText,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["wmsLayers","onCancel","titleText","cancelText","addAllLayersText","addSelectedLayersText"]),f=this.state.selectedWmsLayers;return t&&t.length>0?i.default.createElement(p.default,o({title:a,bounds:"#main",className:"add-wms-panel"},c),i.default.createElement(r.default.Group,{onChange:this.onSelectedLayersChange},t.map(function(e,t){return i.default.createElement(h.default,{wmsLayer:e,key:t})})),i.default.createElement(d.default,{tools:[i.default.createElement(y.default,{size:"small",key:"useSelectedBtn",disabled:0===f.length,onClick:this.onAddSelectedLayers},u),i.default.createElement(y.default,{size:"small",key:"useAllBtn",onClick:this.onAddAllLayers},s),n?i.default.createElement(y.default,{size:"small",key:"cancelBtn",onClick:n},l):null]})):null}}]),t}();b.propTypes={wmsLayers:l.default.arrayOf(l.default.oneOfType([l.default.instanceOf(s.default),l.default.instanceOf(u.default)])).isRequired,map:l.default.instanceOf(c.default),onLayerAddToMap:l.default.func,onCancel:l.default.func,onSelectionChange:l.default.func,addAllLayersText:l.default.string,addSelectedLayersText:l.default.string,cancelText:l.default.string,titleText:l.default.string},b.defaultProps={addAllLayersText:"Add all layers",addSelectedLayersText:"Add selected layers",cancelText:"Cancel",titleText:"Add WMS layer"},t.default=b}}]);